# Feature Specification: Course Display and Booking System (RuoYiæ¶æ„ç‰ˆ)

**Feature Branch**: `002-course-display-and-booking`
**Created**: 2025-11-17
**Status**: Draft
**MVP**: MVP-2A
**Dependencies**: MVP-1 (001-user-identity-system)
**æ¶æ„**: RuoYi-Vue-Pro (Spring Boot + MyBatis-Plus + Vue3)
**Input**: "Build a course display and booking system where parents can browse courses, view course details, book classes for themselves or their children, manage their bookings, and cancel/request leave."

## User Scenarios & Testing *(mandatory)*

### User Story 1 - æ··åˆè¯¾ç¨‹æ˜¾ç¤ºä¸æ™ºèƒ½åŒ¹é… (Priority: P1)

å®¶é•¿æ‰“å¼€å°ç¨‹åº"é¢„çº¦Tab"(å°ç¨‹åºå…±æœ‰4ä¸ªTab:é¦–é¡µ/é¢„çº¦/è¯¾ç¨‹/æˆ‘çš„),ç³»ç»Ÿæ˜¾ç¤ºæˆäººå’Œå„¿ç«¥è¯¾ç¨‹æ··åˆåˆ—è¡¨ï¼ŒæŒ‰åå°è®¾ç½®é¡ºåºæ’åˆ—ã€‚æ— è®ºç”¨æˆ·æ˜¯å¦æœ‰æ¡£æ¡ˆï¼Œéƒ½æ˜¾ç¤ºåŸºäºè¯¾ç¨‹ç»´åº¦çš„åˆ†ç±»æ ‡ç­¾ï¼ˆå¦‚è¯¾ç¨‹ç±»å‹ã€éš¾åº¦ç­‰çº§ç­‰ï¼‰ä¾›ç”¨æˆ·ç­›é€‰æµè§ˆã€‚æœ‰æ¡£æ¡ˆçš„ç”¨æˆ·å¯çœ‹åˆ°åŸºäºæ¡£æ¡ˆä¿¡æ¯çš„ä¸ªæ€§åŒ–æ¨èï¼Œæ— æ¡£æ¡ˆç”¨æˆ·çœ‹åˆ°æµ®åŠ¨æç¤ºå¼•å¯¼åˆ›å»ºæ¡£æ¡ˆã€‚

**Why this priority**: æ··åˆæ˜¾ç¤ºæœ€å¤§åŒ–è¯¾ç¨‹æ›å…‰åº¦ï¼Œè¯¾ç¨‹ç»´åº¦æ ‡ç­¾æä¾›ç²¾å‡†ç­›é€‰èƒ½åŠ›ï¼Œå¼•å¯¼å¼ä½“éªŒæå‡æ¡£æ¡ˆåˆ›å»ºç‡ï¼Œå¿…é¡»ä¼˜å…ˆå®ç°ã€‚

**Independent Test**: éªŒè¯è¯¾ç¨‹åˆ—è¡¨æ˜¯å¦æ­£ç¡®æ··åˆæ˜¾ç¤ºï¼Œè¯¾ç¨‹ç»´åº¦åˆ†ç±»æ ‡ç­¾åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œï¼Œæµ®åŠ¨æç¤ºæ˜¯å¦æŒ‰æ¡ä»¶æ˜¾ç¤ºã€‚

**Acceptance Scenarios**:

1. **Given** ç”¨æˆ·æ— å­¦å‘˜æ¡£æ¡ˆï¼Œ**When** è¿›å…¥"é¢„çº¦Tab"ï¼Œ**Then** æ˜¾ç¤ºæˆäººå’Œå„¿ç«¥æ··åˆè¯¾ç¨‹åˆ—è¡¨ï¼ŒæŒ‰åå°è®¾ç½®é¡ºåºæ’åˆ—ï¼ŒåŒæ—¶æ˜¾ç¤ºæµ®åŠ¨æç¤ºæ¡"å¡«å†™å­¦å‘˜èµ„æ–™ï¼Œè·å–æœ€åˆé€‚çš„è¯¾ç¨‹ï¼"
2. **Given** ç”¨æˆ·æœ‰æ¡£æ¡ˆä¸”ä¸º5å²L2ç”·æ€§å­¦å‘˜ï¼Œ**When** è¿›å…¥"é¢„çº¦Tab"ï¼Œ**Then** æ˜¾ç¤ºæ··åˆè¯¾ç¨‹åˆ—è¡¨ï¼ŒæŒ‰L3ä»¥ä¸‹100%åŒ¹é…è§„åˆ™(ç­‰çº§+å¹´é¾„+æ€§åˆ«éƒ½è¦æ»¡è¶³)æ™ºèƒ½åŒ¹é…å¹¶æ˜¾ç¤ºæ¨èæç¤º"ä¸º5å²L2ç”·æ€§å­¦å‘˜æ¨èï¼šé€‚åˆè¯¾ç¨‹"
3. **Given** ç”¨æˆ·æœ‰æ¡£æ¡ˆä¸”ä¸º20å²æˆäººï¼Œ**When** è¿›å…¥"é¢„çº¦Tab"ï¼Œ**Then** æ˜¾ç¤ºæ··åˆè¯¾ç¨‹åˆ—è¡¨ï¼ŒæŒ‰L3åŠä»¥ä¸Š100%åŒ¹é…è§„åˆ™(ç­‰çº§+å¹´é¾„+æ€§åˆ«éƒ½è¦æ»¡è¶³)æ™ºèƒ½åŒ¹é…å¹¶æ˜¾ç¤ºæ¨èæç¤º"ä¸ºæˆäººæ¨èï¼šé€‚åˆè¯¾ç¨‹"
4. **Given** ç”¨æˆ·æŸ¥çœ‹è¯¾ç¨‹åˆ—è¡¨ï¼Œ**When** ç‚¹å‡»"ä½“éªŒè¯¾"åˆ†ç±»æ ‡ç­¾ï¼Œ**Then** ç­›é€‰æ˜¾ç¤ºä»…ä½“éªŒè¯¾ç±»å‹è¯¾ç¨‹ï¼Œå¯æ¢å¤åˆ°æ··åˆæ˜¾ç¤º
5. **Given** ç”¨æˆ·æŸ¥çœ‹è¯¾ç¨‹åˆ—è¡¨ï¼Œ**When** ç‚¹å‡»"æ­£å¼è¯¾"åˆ†ç±»æ ‡ç­¾ï¼Œ**Then** ç­›é€‰æ˜¾ç¤ºä»…æ­£å¼è¯¾ç±»å‹è¯¾ç¨‹ï¼Œå¯æ¢å¤åˆ°æ··åˆæ˜¾ç¤º
6. **Given** ç”¨æˆ·æŸ¥çœ‹è¯¾ç¨‹åˆ—è¡¨ï¼Œ**When** ç‚¹å‡»"å…¨éƒ¨"åˆ†ç±»æ ‡ç­¾ï¼Œ**When** æŸ¥çœ‹åˆ—è¡¨ï¼Œ**Then** æ¢å¤æ··åˆæ˜¾ç¤ºæ‰€æœ‰è¯¾ç¨‹ç±»å‹
7. **Given** ç”¨æˆ·æœ‰æ¡£æ¡ˆä½†ç‚¹å‡»ä»»ä½•é¢„çº¦æ“ä½œï¼Œ**When** ç³»ç»Ÿæ£€æµ‹ï¼Œ**Then** æ­£å¸¸æ‰§è¡Œé¢„çº¦æµç¨‹ï¼ˆæ— éœ€å†æ¬¡éªŒè¯æ¡£æ¡ˆï¼‰
8. **Given** ç”¨æˆ·æ— æ¡£æ¡ˆä¸”ç‚¹å‡»ä»»ä½•é¢„çº¦æ“ä½œï¼Œ**When** ç³»ç»Ÿæ£€æµ‹ï¼Œ**Then** æ‹¦æˆªæ“ä½œå¹¶æç¤º"è¯·å…ˆåˆ›å»ºå­¦å‘˜æ¡£æ¡ˆï¼Œè·å–æ‚¨çš„è¯¾ç¨‹"ï¼Œå¼•å¯¼åˆ›å»ºæ¡£æ¡ˆ

---

### User Story 2 - æ™ºèƒ½åŒ¹é…å›ºå®šç­è¯¾ç¨‹ (Priority: P1)

å®¶é•¿åœ¨"é¢„çº¦Tab"ç‚¹å‡»"å›ºå®šç­"å…¥å£,ç³»ç»ŸåŸºäºå½“å‰æ¡£æ¡ˆçš„æ ‡ç­¾æ™ºèƒ½åŒ¹é…å¹¶æ˜¾ç¤ºé€‚åˆçš„é•¿æœŸè¯¾ç¨‹(3ä¸ªæœˆå­¦æœŸ),æŒ‰åŒ¹é…åº¦å’Œçƒ­é—¨ç¨‹åº¦ç»¼åˆæ’åºã€‚

**Why this priority**: å›ºå®šç­æ˜¯æ ¸å¿ƒæ”¶å…¥æ¥æº,æ™ºèƒ½æ ‡ç­¾åŒ¹é…æå‡é¢„çº¦è½¬åŒ–ç‡,å¿…é¡»ä¸çµæ´»æ’è¯¾åŒç­‰ä¼˜å…ˆçº§ã€‚

**Independent Test**: ç‚¹å‡»"å›ºå®šç­"å…¥å£,éªŒè¯æ˜¯å¦æŒ‰åŒ¹é…åº¦æ˜¾ç¤ºæ‰€æœ‰æ ‡ç­¾åŒ¹é…çš„é•¿æœŸè¯¾ç¨‹ã€‚

**Acceptance Scenarios**:

1. **Given** ç”¨æˆ·åœ¨"é¢„çº¦Tab"ä¸”å½“å‰æ¡£æ¡ˆä¸º5å²L2ç”·æ€§å­¦å‘˜, **When** ç‚¹å‡»"å›ºå®šç­"å…¥å£, **Then** è¿›å…¥å›ºå®šç­è¯¾ç¨‹åˆ—è¡¨é¡µ,æŒ‰3ç»´ç¡¬åŒ¹é…è§„åˆ™,æ˜¾ç¤ºæ‰€æœ‰ç­‰çº§åŒ…å«L2ä¸”å¹´é¾„4-6å²ä¸”æ€§åˆ«çš„é•¿æœŸè¯¾ç¨‹,æŒ‰åŒ¹é…åº¦æ’åº
2. **Given** ç”¨æˆ·æŸ¥çœ‹å›ºå®šç­åˆ—è¡¨, **When** ç‚¹å‡»æŸä¸ªåŒ¹é…åº¦95åˆ†çš„å›ºå®šç­è¯¾ç¨‹, **Then** æ˜¾ç¤ºè¯¾ç¨‹è¯¦æƒ…+åŒ¹é…è¯¦æƒ…é¡µé¢(åŒ…å«3ç»´ç¡¬åŒ¹é…åˆ†æ•°:ç­‰çº§100åˆ†+å¹´é¾„100åˆ†+æ€§åˆ«100åˆ†,è½¯æ ‡ç­¾æ’åº:å‘å±•80åˆ†)
3. **Given** å›ºå®šç­å·²æ»¡å‘˜, **When** æŸ¥çœ‹è¯¥è¯¾ç¨‹, **Then** æ˜¾ç¤º"å·²æ»¡å‘˜"æ ‡ç­¾ã€"åŒ¹é…åº¦XXåˆ†"å’Œ"åŠ å…¥å€™è¡¥"æŒ‰é’®
4. **Given** å›ºå®šç­æœªæ»¡å‘˜ä½†åŒ¹é…åº¦è¾ƒä½, **When** æŸ¥çœ‹è¯¥è¯¾ç¨‹, **Then** æ˜¾ç¤º"å‰©ä½™Xä¸ªåé¢"ã€"åŒ¹é…åº¦XXåˆ†"å’Œ"ç«‹å³é¢„çº¦"æŒ‰é’®,å¯ç‚¹å‡»æŸ¥çœ‹åŒ¹é…è¯¦æƒ…
5. **Given** å½“å‰æ¡£æ¡ˆä¸ºé•¿è®­ç­ç”¨æˆ·, **When** æµè§ˆå›ºå®šç­, **Then** ç³»ç»Ÿä¼˜å…ˆæ˜¾ç¤ºlong_termç±»å‹è¯¾ç¨‹,å¹¶åœ¨åŒ¹é…åº¦è®¡ç®—ä¸­å¢åŠ å‘å±•æ ‡ç­¾æƒé‡
6. **Given** æ— å®Œå…¨åŒ¹é…çš„å›ºå®šç­, **When** æŸ¥çœ‹å›ºå®šç­åˆ—è¡¨, **Then** æ˜¾ç¤º"éƒ¨åˆ†åŒ¹é…è¯¾ç¨‹",é™ä½åŒ¹é…æ ‡å‡†æ˜¾ç¤ºç›¸è¿‘è¯¾ç¨‹,å¹¶æ ‡æ³¨"å»ºè®®è”ç³»å®¢æœè¯„ä¼°é€‚åˆåº¦"

---

### User Story 3 - åŸºäºå¹´é¾„è‡ªåŠ¨è¯†åˆ«çš„é¢„çº¦æµç¨‹ (Priority: P1)

å®¶é•¿ç‚¹å‡»è¯¾ç¨‹å¡ç‰‡è¿›å…¥è¯¦æƒ…é¡µ,æŸ¥çœ‹è¯¾ç¨‹ä¿¡æ¯(æ—¶é—´/åœ°ç‚¹/æ•™ç»ƒ/ä»·æ ¼/å‰©ä½™åé¢ç­‰)ã€‚ç³»ç»ŸåŸºäºæ¡£æ¡ˆå¹´é¾„è‡ªåŠ¨è¯†åˆ«æˆäºº/å„¿ç«¥ç±»å‹ï¼Œç®€åŒ–é¢„çº¦æµç¨‹ï¼Œæ— éœ€ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©ã€‚

**Why this priority**: è‡ªåŠ¨è¯†åˆ«å‡å°‘ç”¨æˆ·æ“ä½œæ­¥éª¤ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œé¿å…é€‰æ‹©é”™è¯¯å¯¼è‡´çš„é¢„çº¦é—®é¢˜ï¼Œå¿…é¡»P1å®ç°ã€‚

**Independent Test**: å®Œæ•´èµ°é€š"é€‰è¯¾ç¨‹â†’æŸ¥çœ‹è¯¦æƒ…â†’è‡ªåŠ¨è¯†åˆ«â†’é¢„çº¦â†’æ”¯ä»˜(ä½“éªŒè¯¾)â†’é¢„çº¦æˆåŠŸ"æµç¨‹ã€‚

**Acceptance Scenarios**:

1. **Given** ç”¨æˆ·ç‚¹å‡»è¯¾ç¨‹å¡ç‰‡ï¼Œ**When** è¿›å…¥è¯¦æƒ…é¡µï¼Œ**Then** æ˜¾ç¤ºè¯¾ç¨‹ä¿¡æ¯ï¼šè¯¾ç¨‹åç§°/æ—¶é—´/åœ°ç‚¹/æ•™ç»ƒ/ä»·æ ¼/å‰©ä½™åé¢/è¯¾ç¨‹ä»‹ç»
2. **Given** å½“å‰æ¡£æ¡ˆä¸º5å²å„¿ç«¥ï¼Œ**When** æŸ¥çœ‹è¯¾ç¨‹è¯¦æƒ…é¡µï¼Œ**Then** ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«ä¸ºå„¿ç«¥ç±»å‹ï¼Œé¢„çº¦ç¡®è®¤æ—¶æ˜¾ç¤º"ä¸ºå„¿ç«¥æ¡£æ¡ˆXXXé¢„çº¦æœ¬è¯¾ç¨‹"
3. **Given** å½“å‰æ¡£æ¡ˆä¸º20å²æˆäººï¼Œ**When** æŸ¥çœ‹è¯¾ç¨‹è¯¦æƒ…é¡µï¼Œ**Then** ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«ä¸ºæˆäººç±»å‹ï¼Œé¢„çº¦ç¡®è®¤æ—¶æ˜¾ç¤º"ä¸ºæˆäººæ¡£æ¡ˆXXXé¢„çº¦æœ¬è¯¾ç¨‹"
4. **Given** ç”¨æˆ·åœ¨è¯¦æƒ…é¡µç‚¹å‡»"ç«‹å³é¢„çº¦"ï¼Œ**When** å¼¹å‡ºç¡®è®¤å¼¹çª—ï¼Œ**Then** å¼¹çª—æ˜¾ç¤º"ä¸ºXXXé¢„çº¦æœ¬è¯¾ç¨‹"ï¼Œç³»ç»Ÿè‡ªåŠ¨åŸºäºæ¡£æ¡ˆä¿¡æ¯è¿›è¡Œ3ç»´ç¡¬åŒ¹é…éªŒè¯
5. **Given** ç”¨æˆ·ç¡®è®¤é¢„çº¦æ­£å¼è¯¾ï¼Œ**When** ç³»ç»Ÿæ‰§è¡ŒéªŒè¯ï¼Œ**Then** 3ç»´ç¡¬åŒ¹é…éªŒè¯(ç­‰çº§+å¹´é¾„+æ€§åˆ«)+æ—¶é—´å†²çªæ£€æŸ¥â†’é¢„çº¦æˆåŠŸï¼Œä»»ä¸€æ¡ä»¶ä¸åŒ¹é…â†’æç¤ºå…·ä½“åŸå› 
6. **Given** ç”¨æˆ·ç¡®è®¤é¢„çº¦ä½“éªŒè¯¾ï¼Œ**When** ç³»ç»Ÿæ£€æŸ¥ä½“éªŒæ¬¡æ•°ï¼Œ**Then** æœªä½“éªŒè¿‡+3ç»´ç¡¬åŒ¹é…é€šè¿‡â†’è·³è½¬æ”¯ä»˜é¡µï¼Œå·²ä½“éªŒè¿‡â†’æç¤º"æ¯ä¸ªå¾®ä¿¡å·ä»…å¯ä½“éªŒä¸€æ¬¡"
7. **Given** ç”¨æˆ·åˆ‡æ¢åˆ°ä¸åŒå¹´é¾„çš„æ¡£æ¡ˆï¼Œ**When** é¢„çº¦åŒä¸€è¯¾ç¨‹ï¼Œ**Then** ç³»ç»Ÿè‡ªåŠ¨æ›´æ–°ç±»å‹è¯†åˆ«ï¼Œç¡®è®¤å¼¹çª—åæ˜ æ–°æ¡£æ¡ˆçš„ç±»å‹ç‰¹å¾

---

### User Story 4 - æ—¶é—´å†²çªæ£€æµ‹ (Priority: P0)

ç³»ç»Ÿå¿…é¡»åœ¨ç”¨æˆ·é¢„çº¦è¯¾ç¨‹å‰æ£€æµ‹æ˜¯å¦æœ‰æ—¶é—´å†²çªï¼Œè‹¥æœ‰å†²çªåˆ™æç¤ºå¹¶ç¦æ­¢é¢„çº¦ï¼Œç¡®ä¿ç”¨æˆ·ä¸ä¼šåŒæ—¶é¢„çº¦ä¸¤èŠ‚é‡å æ—¶é—´çš„è¯¾ç¨‹ã€‚

**Why this priority**: é¿å…ç”¨æˆ·åŒæ—¶é¢„çº¦ä¸¤èŠ‚é‡å æ—¶é—´çš„è¯¾ç¨‹ï¼Œä¿è¯é¢„çº¦æ•°æ®çš„åˆç†æ€§å’Œè¿è¥æ•ˆç‡ã€‚

**Independent Test**: åˆ›å»ºæ—¶é—´é‡å çš„é¢„çº¦åœºæ™¯ï¼ŒéªŒè¯ç³»ç»Ÿæ˜¯å¦èƒ½æ­£ç¡®æ£€æµ‹å†²çªå¹¶é˜»æ­¢é¢„çº¦ã€‚

**Acceptance Scenarios**:

1. **Given** ç”¨æˆ·å·²é¢„çº¦å‘¨ä¸‰15:00-16:00çš„è¯¾ç¨‹Aï¼Œ**When** å°è¯•é¢„çº¦å‘¨ä¸‰15:30-16:30çš„è¯¾ç¨‹Bï¼Œ**Then** ç³»ç»Ÿæç¤º"æ—¶é—´å†²çªï¼Œè¯·å…ˆå–æ¶ˆã€Šè¯¾ç¨‹Aã€‹åå†é¢„çº¦"å¹¶ç¦æ­¢é¢„çº¦
2. **Given** ç”¨æˆ·å·²é¢„çº¦å‘¨ä¸‰15:00-16:00çš„è¯¾ç¨‹Aï¼Œ**When** å°è¯•é¢„çº¦å‘¨ä¸‰16:00-17:00çš„è¯¾ç¨‹Bï¼Œ**Then** é¢„çº¦æˆåŠŸ(æ—¶é—´åˆšå¥½è¡”æ¥ï¼Œæ— é‡å )
3. **Given** ç”¨æˆ·åˆ‡æ¢åˆ°å…¶ä»–æ¡£æ¡ˆï¼Œ**When** é¢„çº¦é‡å æ—¶é—´çš„è¯¾ç¨‹ï¼Œ**Then** é¢„çº¦æˆåŠŸ(ä¸åŒæ¡£æ¡ˆç‹¬ç«‹ç®¡ç†ï¼Œæ—¶é—´ä¸å†²çª)
4. **Given** ç”¨æˆ·å·²é¢„çº¦å‘¨äº”19:00-20:00çš„è¯¾ç¨‹Cï¼Œ**When** å°è¯•é¢„çº¦å‘¨äº”20:00-21:00çš„è¯¾ç¨‹Dï¼Œ**Then** é¢„çº¦æˆåŠŸ(æ—¶é—´è¿ç»­ä¸é‡å )
5. **Given** ç”¨æˆ·å°è¯•é¢„çº¦å½“å¤©å·²è¿‡å»çš„è¯¾ç¨‹æ—¶é—´ï¼Œ**When** ç³»ç»Ÿæ£€æµ‹ï¼Œ**Then** é¢„çº¦å¤±è´¥å¹¶æç¤º"è¯¾ç¨‹æ—¶é—´å·²è¿‡æœŸ"

---

### User Story 5 - æŸ¥çœ‹æˆ‘çš„è¯¾ç¨‹ (Priority: P1)

å®¶é•¿åœ¨"è¯¾ç¨‹Tab"æŸ¥çœ‹å½“å‰æ¡£æ¡ˆçš„æ‰€æœ‰è¯¾ç¨‹,åŒ…æ‹¬å³å°†ä¸Šçš„è¯¾ç¨‹(å½“æœŸè¯¾ç¨‹)å’Œå·²ä¸Šè¿‡çš„è¯¾ç¨‹(å†å²è¯¾ç¨‹)ã€‚

**Why this priority**: ç”¨æˆ·éœ€è¦æ¸…æ¥šçœ‹åˆ°è‡ªå·±çš„è¯¾ç¨‹å®‰æ’,P1å¿…é¡»å®ç°ã€‚

**Independent Test**: é¢„çº¦è¯¾ç¨‹å,åœ¨"è¯¾ç¨‹Tab"éªŒè¯è¯¾ç¨‹æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºã€‚

**Acceptance Scenarios**:

1. **Given** ç”¨æˆ·è¿›å…¥"è¯¾ç¨‹Tab", **When** æŸ¥çœ‹å½“æœŸè¯¾ç¨‹åˆ—è¡¨, **Then** æ˜¾ç¤ºæ‰€æœ‰çŠ¶æ€ä¸º"æœªå¼€è¯¾"çš„é¢„çº¦è®°å½•,æŒ‰æ—¶é—´å‡åºæ’åˆ—
2. **Given** ç”¨æˆ·è¿›å…¥"è¯¾ç¨‹Tab", **When** åˆ‡æ¢åˆ°"å·²å®Œæˆ"Tab, **Then** æ˜¾ç¤ºæ‰€æœ‰å·²ä¸Šè¿‡çš„è¯¾ç¨‹(çŠ¶æ€ä¸º"å·²å®Œæˆ")
3. **Given** ç”¨æˆ·åœ¨å½“æœŸè¯¾ç¨‹åˆ—è¡¨, **When** ç‚¹å‡»æŸèŠ‚è¯¾, **Then** è¿›å…¥è¯¾ç¨‹è¯¦æƒ…é¡µ,æ˜¾ç¤ºè¯¾ç¨‹ä¿¡æ¯+æ•™ç»ƒ+åœ°ç‚¹+å–æ¶ˆæŒ‰é’®
4. **Given** ç”¨æˆ·åˆ‡æ¢æ¡£æ¡ˆ, **When** åˆ·æ–°"è¯¾ç¨‹Tab", **Then** æ˜¾ç¤ºæ–°æ¡£æ¡ˆçš„è¯¾ç¨‹åˆ—è¡¨(æ•°æ®éš”ç¦»)

---

### User Story 5 - å–æ¶ˆé¢„çº¦/è¯·å‡ (Priority: P1)

å®¶é•¿åœ¨"è¯¾ç¨‹Tab"ç‚¹å‡»"å–æ¶ˆ"æŒ‰é’®,å¯¹çµæ´»æ’è¯¾å¯ä»¥ç›´æ¥å–æ¶ˆ,å¯¹å›ºå®šç­æ”¹ä¸º"è¯·å‡"é€»è¾‘ã€‚

**Why this priority**: ç”¨æˆ·éœ€è¦çµæ´»ç®¡ç†è¯¾ç¨‹,å–æ¶ˆåŠŸèƒ½å¿…é¡»å®ç°ã€‚

**Independent Test**: åˆ†åˆ«æµ‹è¯•"çµæ´»æ’è¯¾å–æ¶ˆ"å’Œ"å›ºå®šç­è¯·å‡"ä¸¤ç§åœºæ™¯ã€‚

**Acceptance Scenarios**:

1. **Given** ç”¨æˆ·æŸ¥çœ‹çµæ´»æ’è¯¾çš„è¯¾ç¨‹è¯¦æƒ…, **When** ç‚¹å‡»"å–æ¶ˆé¢„çº¦"æŒ‰é’®, **Then** æ˜¾ç¤ºç¡®è®¤å¼¹çª—"ç¡®è®¤å–æ¶ˆé¢„çº¦?"
2. **Given** ç”¨æˆ·ç¡®è®¤å–æ¶ˆä¸”è·å¼€è¯¾>6å°æ—¶, **When** ç³»ç»Ÿå¤„ç†, **Then** ä½“éªŒè¯¾é€šè¿‡å¾®ä¿¡åŸè·¯é€€æ¬¾,æ­£å¼è¯¾è¯¾æ—¶è´¹é€€å›é’±åŒ…,åé¢é‡Šæ”¾,é€šçŸ¥å€™è¡¥é˜Ÿåˆ—(å¦‚æœ‰)
3. **Given** ç”¨æˆ·ç¡®è®¤å–æ¶ˆä½†è·å¼€è¯¾<6å°æ—¶, **When** ç³»ç»Ÿå¤„ç†, **Then** æç¤º"å¼€è¯¾å‰6å°æ—¶å†…æ— æ³•å–æ¶ˆ,å¯è”ç³»å®¢æœ"
4. **Given** ç”¨æˆ·æŸ¥çœ‹å›ºå®šç­è¯¾ç¨‹è¯¦æƒ…, **When** ç‚¹å‡»"è¯·å‡"æŒ‰é’®, **Then** æ˜¾ç¤ºç¡®è®¤å¼¹çª—"è¯·å‡åè¯¾æ—¶ä¸æ‰£é™¤,åé¢å°†é‡Šæ”¾ç»™å€™è¡¥"
5. **Given** ç”¨æˆ·ç¡®è®¤è¯·å‡ä¸”è·å¼€è¯¾>6å°æ—¶, **When** ç³»ç»Ÿå¤„ç†, **Then** è¯¾æ—¶ä¸æ‰£é™¤,ç”Ÿæˆ"å¾…è¡¥è¯¾"è®°å½•,åé¢é‡Šæ”¾,é€šçŸ¥å€™è¡¥é˜Ÿåˆ—
6. **Given** ç”¨æˆ·ç¡®è®¤è¯·å‡ä½†è·å¼€è¯¾<6å°æ—¶, **When** ç³»ç»Ÿå¤„ç†, **Then** è¯¾æ—¶æ‰£é™¤(ç®—æ—·è¯¾),ä¸ç”Ÿæˆå¾…è¡¥è¯¾è®°å½•,æç¤º"è¯·å‡å¤±è´¥"
7. **Given** ç”¨æˆ·æœ¬æœˆå·²è¯·å‡3æ¬¡, **When** ç¬¬4æ¬¡è¯·å‡, **Then** æç¤º"æœ¬æœˆè¯·å‡æ¬¡æ•°å·²è¾¾ä¸Šé™(3æ¬¡)"

---

### User Story 6 - é•¿æœŸå›ºå®šç­é¢„çº¦ (Priority: P0)

ç”¨æˆ·å¯é€‰æ‹©é•¿æœŸå›ºå®šç­æˆ–å•æ¬¡é¢„çº¦ï¼Œä¸¤è€…æœ‰ä¸åŒçš„æ‰£è´¹å’Œå–æ¶ˆè§„åˆ™ã€‚å›ºå®šç­æŠ¥åæ—¶ç«‹å³ä»é’±åŒ…æ‰£é™¤è¯¾æ—¶è´¹é”å®šåé¢ã€‚

**Why this priority**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œå½±å“é¢„çº¦å’Œæ‰£è´¹æµç¨‹ï¼Œå¿…é¡»ä¼˜å…ˆå®ç°ã€‚

**Independent Test**: å¯ç‹¬ç«‹æµ‹è¯•é•¿æœŸå›ºå®šç­å’Œå•æ¬¡é¢„çº¦çš„æ‰£è´¹é€»è¾‘ã€‚

**Acceptance Scenarios**:

1. **Given** ç”¨æˆ·é€‰æ‹©é•¿æœŸå›ºå®šç­ï¼Œ**When** æ’é˜ŸæˆåŠŸï¼Œ**Then** ç«‹å³ä»é’±åŒ…æ‰£é™¤è¯¾æ—¶è´¹ï¼ŒçŠ¶æ€å˜ä¸º"å¾…ä¸Šè¯¾"
2. **Given** å›ºå®šç­ç”¨æˆ·å¼€è¯¾å‰7å°æ—¶è¯·å‡ï¼Œ**When** ç¡®è®¤è¯·å‡ï¼Œ**Then** å¼€è¯¾å‰6å°æ—¶å¤–å¯ç”³è¯·é€€è´¹ï¼Œè¯¾æ—¶ä¸æ‰£é™¤ï¼Œç”Ÿæˆ"å¾…è¡¥è¯¾"è®°å½•ï¼Œé‡Šæ”¾åé¢
3. **Given** å›ºå®šç­ç”¨æˆ·å¼€è¯¾å‰5å°æ—¶è¯·å‡ï¼Œ**When** ç¡®è®¤è¯·å‡ï¼Œ**Then** å¼€è¯¾å‰6å°æ—¶å†…æ— æ³•é€€è´¹ï¼Œè¯¾æ—¶æ‰£é™¤(ç®—æ—·è¯¾)ï¼Œä¸ç”Ÿæˆå¾…è¡¥è¯¾è®°å½•
4. **Given** ç”¨æˆ·é€‰æ‹©å•æ¬¡é¢„çº¦ï¼Œ**When** é¢„çº¦æˆåŠŸï¼Œ**Then** ç«‹å³æ‰£é™¤è¯¾æ—¶è´¹ï¼ŒçŠ¶æ€å˜ä¸º"å¾…ä¸Šè¯¾"
5. **Given** å›ºå®šç­ç”¨æˆ·è¿ç»­è¯·å‡4æ¬¡ï¼Œ**When** ç³»ç»Ÿæ£€æµ‹ï¼Œ**Then** è‡ªåŠ¨é€šçŸ¥è¿è¥é‡Šæ”¾ç­çº§åé¢
6. **Given** ç”¨æˆ·é’±åŒ…ä½™é¢ä¸è¶³é¢„çº¦å›ºå®šç­ï¼Œ**When** ç³»ç»Ÿæ£€æŸ¥ï¼Œ**Then** æ˜¾ç¤ºæç¤º"æ‚¨çš„é’±åŒ…ä½™é¢ä¸è¶³,è¯·è”ç³»æ•™åŠ¡è€å¸ˆè¿›è¡Œé’±åŒ…å……å€¼"
7. **Given** å›ºå®šç­ç”¨æˆ·åœ¨"è¯¾ç¨‹-å·²çº¦"æŸ¥çœ‹è¯¾ç¨‹ï¼Œ**When** æŸ¥çœ‹æœªæ¥è¯¾ç¨‹ï¼Œ**Then** æ˜¾ç¤ºæœªæ¥ä¸€å‘¨å†…çš„æ‰€æœ‰å·²é¢„çº¦è¯¾ç¨‹,ä¸é™åˆ¶æ•°é‡

---

### User Story 7 - è¯¾æ—¶è´¹è®¡ç®—è§„åˆ™ (Priority: P1)

ç³»ç»Ÿé€šè¿‡4æ­¥é¡ºåºåˆ¤æ–­é€»è¾‘è®¡ç®—è¯¾æ—¶è´¹ï¼Œç¡®ä¿ä»·æ ¼è®¡ç®—çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚

**Why this priority**: ä»·æ ¼è®¡ç®—æ˜¯æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒå’Œæ”¶å…¥ï¼Œå¿…é¡»æ¸…æ™°å‡†ç¡®ã€‚

**Independent Test**: æµ‹è¯•ä¸åŒäººå‘˜å±æ€§ã€ç”¨æˆ·å±æ€§ã€æƒç›Šç±»å‹å’Œè¯¾ç¨‹æ ‡ç­¾ç»„åˆçš„ä»·æ ¼è®¡ç®—ã€‚

**Acceptance Scenarios**:

1. **Given** ç³»ç»Ÿè®¡ç®—è¯¾æ—¶è´¹ï¼Œ**When** æ‰§è¡Œç¬¬1æ­¥åˆ¤æ–­äººå‘˜å±æ€§ï¼Œ**Then** åˆ¤æ–­çº¦è¯¾äººå‘˜æ˜¯"å„¿ç«¥"è¿˜æ˜¯"æˆäºº"ï¼Œå¯¹åº”ä¸åŒçš„ä»·æ ¼è¡¨
2. **Given** çº¦è¯¾äººå‘˜ä¸ºå„¿ç«¥ï¼Œ**When** æ‰§è¡Œç¬¬2æ­¥åˆ¤æ–­ç”¨æˆ·å±æ€§ï¼Œ**Then** åˆ¤æ–­æ˜¯"è€ç”¨æˆ·"è¿˜æ˜¯"æ–°ç”¨æˆ·"ï¼ŒåŒ¹é…å¯¹åº”çš„å„¿ç«¥ä»·æ ¼è¡¨
3. **Given** çº¦è¯¾äººå‘˜ä¸ºæˆäººï¼Œ**When** æ‰§è¡Œç¬¬2æ­¥åˆ¤æ–­ç”¨æˆ·å±æ€§ï¼Œ**Then** è·³è¿‡ç”¨æˆ·å±æ€§åˆ¤æ–­ï¼Œæˆäººä¸éœ€è¦åŒºåˆ†æ–°è€ç”¨æˆ·
4. **Given** ç”¨æˆ·æœ‰"äº²å‹æƒç›Š"ï¼Œ**When** æ‰§è¡Œç¬¬3æ­¥åˆ¤æ–­æƒç›Šç±»å‹ï¼Œ**Then** æ‰€æœ‰è¯¾ç¨‹(é™¤é•¿è®­ç­å¤–)éƒ½ä¸º6æŠ˜
5. **Given** é€šè¿‡å‰3æ­¥ç¡®å®šä»·æ ¼è¡¨ï¼Œ**When** æ‰§è¡Œç¬¬4æ­¥åŒ¹é…è¯¾ç¨‹æ ‡ç­¾å’Œç­‰çº§ï¼Œ**Then** å…ˆåŒ¹é…"è¯¾ç¨‹æ ‡ç­¾"ï¼Œå†åŒ¹é…"ç­‰çº§æ ‡ç­¾"ï¼Œæœ€ç»ˆè·å¾—è¯¾æ—¶è´¹
6. **Given** 5å²å„¿ç«¥è€ç”¨æˆ·æ— äº²å‹æƒç›Šé¢„çº¦L2å…´è¶£ç­ï¼Œ**When** ç³»ç»Ÿè®¡ç®—ï¼Œ**Then** é€šè¿‡4æ­¥åˆ¤æ–­è·å¾—å¯¹åº”ä»·æ ¼è¡¨çš„è¯¾æ—¶è´¹
7. **Given** 20å²æˆäººæœ‰äº²å‹æƒç›Šé¢„çº¦æ­£å¼è¯¾ï¼Œ**When** ç³»ç»Ÿè®¡ç®—ï¼Œ**Then** è·³è¿‡ç¬¬2æ­¥ï¼Œç›´æ¥åº”ç”¨ç¬¬3æ­¥äº²å‹æƒç›Š6æŠ˜ï¼Œå†åŒ¹é…è¯¾ç¨‹æ ‡ç­¾å’Œç­‰çº§

---

### Edge Cases

- **ç½‘ç»œå¼‚å¸¸**: é¢„çº¦æ—¶ç½‘ç»œä¸­æ–­ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ â†’ æ˜¾ç¤ºToast"ç½‘ç»œå¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•"ï¼Œä½¿ç”¨ä¹è§‚é”æœºåˆ¶
- **å¹¶å‘é¢„çº¦**: å¤šäººåŒæ—¶é¢„çº¦æœ€åä¸€é—¨è¯¾ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ â†’ ä½¿ç”¨æ•°æ®åº“ä¹è§‚é”ï¼Œå…ˆåˆ°å…ˆå¾—ï¼Œå¤±è´¥æç¤º"è¯¾ç¨‹å·²è¢«æŠ¢å…‰"
- **è¯¾ç¨‹æ—¶é—´å†²çª**: ç”¨æˆ·é¢„çº¦æ—¶é—´å†²çªçš„è¯¾ç¨‹ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ â†’ å‰ç«¯æ£€æŸ¥å†²çªå¹¶æç¤º"ä¸ç°æœ‰é¢„çº¦æ—¶é—´å†²çª"
- **æ•™ç»ƒå–æ¶ˆè¯¾ç¨‹**: æ•™ç»ƒä¸´æ—¶å–æ¶ˆè¯¾ç¨‹ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ â†’ ç³»ç»Ÿè‡ªåŠ¨å–æ¶ˆæ‰€æœ‰ç›¸å…³é¢„çº¦ï¼Œå‘é€é€šçŸ¥
- **è¯¾ç¨‹ä¿¡æ¯å˜æ›´**: è¯¾ç¨‹æ—¶é—´æˆ–ä»·æ ¼å˜æ›´ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ â†’ ç³»ç»Ÿé€šçŸ¥æ‰€æœ‰é¢„çº¦ç”¨æˆ·ï¼Œæä¾›å…è´¹å–æ¶ˆé€‰é¡¹
- **å€™è¡¥é€šçŸ¥å¤±è´¥**: å–æ¶ˆé¢„çº¦æˆåŠŸåå€™è¡¥é€šçŸ¥å¤±è´¥ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ â†’ ç³»ç»Ÿé‡è¯•3æ¬¡ï¼Œä»å¤±è´¥åˆ™è®°å½•æ—¥å¿—å¹¶é€šçŸ¥è¿è¥
- **å€™è¡¥ç”¨æˆ·ä¸å“åº”**: å€™è¡¥é€šçŸ¥å‘é€åç”¨æˆ·ä¸å“åº”ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ â†’ 10åˆ†é’Ÿå†…æœªç¡®è®¤è‡ªåŠ¨è¿‡æœŸï¼Œé¡ºä½é€šçŸ¥ä¸‹ä¸€ä½å€™è¡¥ç”¨æˆ·
- **å€™è¡¥é˜Ÿåˆ—å¤„ç†**: å–æ¶ˆé¢„çº¦åå¦‚ä½•è§¦å‘å€™è¡¥é€šçŸ¥ï¼Ÿ â†’ å–æ¶ˆé¢„çº¦æˆåŠŸâ†’ç«‹å³é‡Šæ”¾åé¢â†’å¼‚æ­¥è§¦å‘å€™è¡¥é€šçŸ¥â†’10ç§’å†…å®Œæˆé€šçŸ¥

#### æµ®åŠ¨æç¤ºå’Œæ¡£æ¡ˆå¼•å¯¼ç›¸å…³
- **æ— æ¡£æ¡ˆç”¨æˆ·æµè§ˆ**: ç”¨æˆ·æ²¡æœ‰æ¡£æ¡ˆä½†æµè§ˆè¯¾ç¨‹åˆ—è¡¨ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ â†’ å…è®¸æµè§ˆæ··åˆè¯¾ç¨‹ï¼Œæ˜¾ç¤ºæµ®åŠ¨æç¤ºå¼•å¯¼åˆ›å»ºæ¡£æ¡ˆ
- **æµ®åŠ¨æç¤ºå…³é—­**: ç”¨æˆ·å…³é—­æµ®åŠ¨æç¤ºï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ â†’ éšè—æç¤ºä½†è®°å½•å…³é—­çŠ¶æ€ï¼Œä¸‹æ¬¡å¯åŠ¨åº”ç”¨æ—¶é‡æ–°æ˜¾ç¤º
- **é¢„çº¦æ“ä½œæ‹¦æˆª**: æ— æ¡£æ¡ˆç”¨æˆ·ç‚¹å‡»é¢„çº¦æ“ä½œï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ â†’ æ‹¦æˆªæ“ä½œå¹¶æ˜¾ç¤º"è¯·å…ˆåˆ›å»ºå­¦å‘˜æ¡£æ¡ˆï¼Œè·å–æ‚¨çš„è¯¾ç¨‹"æç¤º

#### å¹´é¾„è‡ªåŠ¨è¯†åˆ«ç›¸å…³
- **å¹´é¾„è¾¹ç•Œå¤„ç†**: å­¦å‘˜å¹´é¾„æ­£å¥½18å²ï¼Œå¦‚ä½•è¯†åˆ«ç±»å‹ï¼Ÿ â†’ æŒ‰ç…§æ ‡å‡†å®šä¹‰ä¸ºæˆäººç±»å‹ï¼ˆ18å²åŠä»¥ä¸Šä¸ºæˆäººï¼‰
- **è™šæ‹Ÿå¹´é¾„ä½¿ç”¨**: å­¦å‘˜æœ‰è™šæ‹Ÿå¹´é¾„è®¾ç½®æ—¶ï¼Œå¦‚ä½•å¤„ç†åŒ¹é…ï¼Ÿ â†’ æ¡£æ¡ˆä¿¡æ¯åŸºäºå®é™…æ•°æ®ï¼Œ3ç»´ç¡¬åŒ¹é…ä¸­çš„å¹´é¾„ç»´åº¦ä½¿ç”¨è™šæ‹Ÿå¹´é¾„
- **ç±»å‹è¯†åˆ«é”™è¯¯**: ç³»ç»Ÿç±»å‹è¯†åˆ«ä¸ç”¨æˆ·æœŸæœ›ä¸ç¬¦ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ â†’ é¢„çº¦ç¡®è®¤æ—¶æ˜¾ç¤ºè¯†åˆ«ä¾æ®ï¼Œå…è®¸ç”¨æˆ·è”ç³»å®¢æœè°ƒæ•´
- **å¤šæ¡£æ¡ˆç±»å‹åˆ‡æ¢**: ç”¨æˆ·åˆ‡æ¢åˆ°ä¸åŒå¹´é¾„ç±»å‹æ¡£æ¡ˆï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ â†’ ç«‹å³æ›´æ–°ç±»å‹è¯†åˆ«ï¼Œé¢„çº¦ç¡®è®¤åæ˜ æ–°æ¡£æ¡ˆç‰¹å¾

---

## Requirements *(mandatory)*

### Functional Requirements

#### Core Requirements

- **FR-001**: ç³»ç»Ÿå¿…é¡»åŸºäºå½“å‰æ¡£æ¡ˆçš„å¤šç»´åº¦æ ‡ç­¾(å¹´é¾„/ç­‰çº§/æ€§åˆ«/å‘å±•æ ‡ç­¾/æƒç›Šæ ‡ç­¾)æ™ºèƒ½åŒ¹é…è¯¾ç¨‹,æŒ‰åŒ¹é…åº¦æ’åºæ˜¾ç¤º
- **FR-002**: ç³»ç»Ÿå¿…é¡»æ”¯æŒæŒ‰å‘¨åˆ‡æ¢æ—¥æœŸ(å¦‚æœ¬å‘¨/ä¸‹å‘¨),æ¯å‘¨7å¤©ç‹¬ç«‹æ˜¾ç¤º,åˆ‡æ¢æ—¥æœŸæ—¶é‡æ–°è®¡ç®—åŒ¹é…åº¦
- **FR-003**: ç³»ç»Ÿå¿…é¡»æ˜¾ç¤ºè¯¾ç¨‹çš„å®Œæ•´æ ‡ç­¾ä¿¡æ¯(å¹´é¾„æ®µ/ç­‰çº§/æ€§åˆ«/ç±»å‹/æŠ€èƒ½/å‘å±•ç‰¹å¾),æ ‡ç­¾æ•°æ®æ¥è‡ªcourse_tagsè¡¨
- **FR-004**: ç³»ç»Ÿå¿…é¡»æ˜¾ç¤ºè¯¾ç¨‹è¯¦æƒ…é¡µçš„æ‰€æœ‰å­—æ®µ+æ ‡ç­¾åŒ¹é…è¯¦æƒ…:è¯¾ç¨‹åç§°/ç±»å‹/é€‚åˆå¹´é¾„/é€‚åˆç­‰çº§/ä¸Šè¯¾æ—¶é—´/ä¸Šè¯¾åœ°ç‚¹/æ•™ç»ƒä¿¡æ¯/è¯¾ç¨‹ä»·æ ¼/å‰©ä½™åé¢/è¯¾ç¨‹ä»‹ç»/åŒ¹é…åˆ†æ•°/åŒ¹é…åŸå› 
- **FR-005**: ç³»ç»Ÿå¿…é¡»é™åˆ¶ä½“éªŒè¯¾é¢„çº¦æ¬¡æ•°(æ¯ä¸ªå¾®ä¿¡OpenIDä»…å¯é¢„çº¦ä¸€æ¬¡),å¹¶åœ¨æ ‡ç­¾åŒ¹é…ä¸­è¿‡æ»¤å·²è´­ä¹°è¿‡çš„ä½“éªŒè¯¾
- **FR-006**: ç³»ç»Ÿå¿…é¡»æ‰§è¡Œ3ç»´ç¡¬åŒ¹é…è§„åˆ™:æ‰€æœ‰å­¦å‘˜éƒ½å¿…é¡»é€šè¿‡ç­‰çº§+å¹´é¾„+æ€§åˆ«çš„å¼ºåˆ¶éªŒè¯(3ç»´å…¨éƒ¨åŒ¹é…æ‰æ˜¾ç¤º)ï¼Œç±»å‹æ ‡ç­¾é™çº§ä¸ºè½¯æ ‡ç­¾ä»…ç”¨äºæ¨èæ’åº (æ ¹æ®Q4,Q11,Q16,Q19æ›´æ–°)
- **FR-007**: ç³»ç»Ÿå¿…é¡»æ”¯æŒè·¨çº§æ ‡ç­¾åŒ¹é…(L1+/L2+ç­‰æ ¼å¼),æ­£ç¡®åˆ¤æ–­å­¦å‘˜ç­‰çº§æ˜¯å¦åœ¨è¯¾ç¨‹ç­‰çº§èŒƒå›´å†…
- **FR-040**: ç³»ç»Ÿå¿…é¡»å®æ–½3ç»´ç¡¬åŒ¹é…ç™½åå•éªŒè¯(FR-040):ç­‰çº§ç»´åº¦+å¹´é¾„ç»´åº¦+æ€§åˆ«ç»´åº¦,ä»»ä¸€ç»´åº¦ä¸åŒ¹é…åˆ™è¯¾ç¨‹ä¸æ˜¾ç¤º (æ ¹æ®Q4,Q11,Q16,Q19æ›´æ–°)
- **FR-008**: ç³»ç»Ÿå¿…é¡»æ£€æµ‹æ—¶é—´å†²çª(åŒä¸€æ¡£æ¡ˆä¸èƒ½åœ¨åŒä¸€æ—¶é—´é¢„çº¦ä¸¤èŠ‚è¯¾),å¹¶åœ¨æ ‡ç­¾åŒ¹é…å‰é¢„å…ˆè¿‡æ»¤
- **FR-009**: ç³»ç»Ÿå¿…é¡»åœ¨é¢„çº¦æ­£å¼è¯¾æ—¶æ£€æŸ¥é’±åŒ…ä½™é¢,ä½™é¢ä¸è¶³æ—¶å…è®¸æ¬ è´¹é¢„çº¦,è®°å½•æ ‡ç­¾åŒ¹é…æ—¥å¿—åˆ°tag_match_logè¡¨
- **FR-010**: ç³»ç»Ÿå¿…é¡»è®¡ç®—å¹¶æ˜¾ç¤ºåŒ¹é…åˆ†æ•°(0-100åˆ†),åŸºäº100%åŒ¹é…é€»è¾‘(ç”¨æˆ·æ ‡ç­¾å®Œå…¨åŒ…å«è¯¾ç¨‹æ ‡ç­¾),éå æ¯”æƒé‡è®¡ç®—
- **FR-011**: ç³»ç»Ÿå¿…é¡»æä¾›åŒ¹é…è¯¦æƒ…è¯´æ˜,è®©ç”¨æˆ·ç†è§£ä¸ºä»€ä¹ˆæ¨èæŸä¸ªè¯¾ç¨‹
- **FR-012**: ç³»ç»Ÿå¿…é¡»æ”¯æŒåŒ¹é…åº¦ä½äº60åˆ†çš„è¯¾ç¨‹é¢„çº¦,ä½†éœ€æç¤ºç”¨æˆ·åŒ¹é…åº¦è¾ƒä½å¹¶å»ºè®®è”ç³»å®¢æœ
- **FR-013**: ç³»ç»Ÿå¿…é¡»åœ¨"è¯¾ç¨‹Tab"æ˜¾ç¤ºå½“æœŸè¯¾ç¨‹å’Œå†å²è¯¾ç¨‹,å¹¶æ”¯æŒæ¡£æ¡ˆåˆ‡æ¢,æ˜¾ç¤ºè¯¾ç¨‹æ—¶çš„åŒ¹é…åº¦ä¿¡æ¯
- **FR-014**: ç³»ç»Ÿå¿…é¡»æ”¯æŒçµæ´»æ’è¯¾çš„å–æ¶ˆé¢„çº¦(å¼€è¯¾å‰6å°æ—¶),å–æ¶ˆæ—¶è®°å½•æ ‡ç­¾åŒ¹é…æ—¥å¿—
- **FR-015**: ç³»ç»Ÿå¿…é¡»æ”¯æŒå›ºå®šç­çš„è¯·å‡é€»è¾‘(å¼€è¯¾å‰6å°æ—¶,è¯¾æ—¶ä¸æ‰£é™¤,ç”Ÿæˆå¾…è¡¥è¯¾è®°å½•),è¯·å‡æ—¶å½±å“åç»­æ ‡ç­¾åŒ¹é…
- **FR-016**: ç³»ç»Ÿå¿…é¡»è®°å½•è¿ç»­è¯·å‡æ¬¡æ•°,è¿ç»­è¯·å‡4æ¬¡æ—¶è‡ªåŠ¨é€šçŸ¥è¿è¥äººå‘˜è·Ÿè¿›å¤„ç†
- **FR-017**: ç³»ç»Ÿå¿…é¡»åœ¨å–æ¶ˆé¢„çº¦/è¯·å‡åé‡Šæ”¾åé¢å¹¶é€šçŸ¥å€™è¡¥é˜Ÿåˆ—,é‡æ–°è®¡ç®—å€™è¡¥ç”¨æˆ·çš„æ ‡ç­¾åŒ¹é…åº¦
- **FR-018**: ç³»ç»Ÿå¿…é¡»æ”¯æŒå›ºå®šç­çš„æ’ç­ç”³è¯·(å·²å¼€è¯¾ä½†æœªæ»¡å‘˜çš„è¯¾ç¨‹),æ’ç­æ—¶æ˜¾ç¤ºæ ‡ç­¾åŒ¹é…åº¦ä¾›è¿è¥å‚è€ƒ
- **FR-019**: ç³»ç»Ÿå¿…é¡»è‡ªåŠ¨æ›´æ–°è¯¾ç¨‹çŠ¶æ€(å¯æŠ¥å/å·²æ»¡å‘˜/å·²å¼€è¯¾/å·²ç»“æŸ),çŠ¶æ€å˜åŒ–å½±å“æ ‡ç­¾åŒ¹é…ç»“æœ

#### æ—¶é—´å†²çªæ£€æµ‹ç›¸å…³
- **FR-020**: ç³»ç»Ÿå¿…é¡»åœ¨ç”¨æˆ·é¢„çº¦è¯¾ç¨‹å‰æ£€æµ‹æ˜¯å¦æœ‰æ—¶é—´å†²çª
- **FR-021**: ç³»ç»Ÿå¿…é¡»æ”¯æŒæ—¶é—´é‡å çš„ç²¾ç¡®åˆ¤æ–­(åŒ…å«å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´çš„äº¤å‰)
- **FR-022**: ç³»ç»Ÿå¿…é¡»æ”¯æŒä¸åŒæ¡£æ¡ˆé—´çš„ç‹¬ç«‹é¢„çº¦(ä¸åŒæ¡£æ¡ˆçš„æ—¶é—´ä¸å†²çª)
- **FR-023**: ç³»ç»Ÿå¿…é¡»åœ¨æ£€æµ‹åˆ°æ—¶é—´å†²çªæ—¶æä¾›æ˜ç¡®çš„å†²çªä¿¡æ¯å’Œè§£å†³æ–¹æ¡ˆ
- **FR-024**: ç³»ç»Ÿå¿…é¡»æ”¯æŒæ—¶é—´è¡”æ¥çš„é¢„çº¦(å¦‚15:00-16:00å’Œ16:00-17:00)
- **FR-025**: ç³»ç»Ÿå¿…é¡»æ£€æŸ¥è¯¾ç¨‹æ—¶é—´çš„æœ‰æ•ˆæ€§(ä¸å…è®¸é¢„çº¦å·²è¿‡æœŸçš„æ—¶é—´)

#### é•¿æœŸå›ºå®šç­é¢„çº¦ç›¸å…³
- **FR-033**: ç³»ç»Ÿå¿…é¡»æ”¯æŒé•¿æœŸå›ºå®šç­é¢„çº¦ï¼Œé¢„çº¦æˆåŠŸåçŠ¶æ€ä¸º"æ’é˜Ÿä¸­"
- **FR-034**: ç³»ç»Ÿå¿…é¡»åœ¨é•¿æœŸå›ºå®šç­å¼€è¯¾å‰6å°æ—¶è‡ªåŠ¨æ‰£é™¤è¯¾æ—¶è´¹
- **FR-035**: ç³»ç»Ÿå¿…é¡»æ”¯æŒå›ºå®šç­å¼€è¯¾å‰7å°æ—¶å–æ¶ˆ(è®¡å…¥è¯·å‡æ¬¡æ•°)ï¼Œé‡Šæ”¾ä¸´æ—¶åé¢
- **FR-036**: ç³»ç»Ÿå¿…é¡»åœ¨å›ºå®šç­å¼€è¯¾å‰6å°æ—¶å†…ç¦æ­¢å–æ¶ˆ(è‡ªåŠ¨æ‰£è´¹å¹¶ç”Ÿæˆè¡¥è¯¾æƒç›Š)
- **FR-037**: ç³»ç»Ÿå¿…é¡»è¿ç»­è¯·å‡4æ¬¡æ—¶è‡ªåŠ¨é€šçŸ¥è¿è¥é‡Šæ”¾ç­çº§åé¢
- **FR-038**: ç³»ç»Ÿå¿…é¡»åœ¨è¯¾ç¨‹-å·²çº¦ç•Œé¢ä¸ºå›ºå®šç­ç”¨æˆ·ä»…æ˜¾ç¤ºæœªæ¥2èŠ‚è¯¾
- **FR-039**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨é•¿æœŸå›ºå®šé¢„çº¦è®°å½•(recurring_bookingè¡¨)ï¼ŒåŒ…å«å¼€å§‹/ç»“æŸæ—¥æœŸå’ŒçŠ¶æ€

#### ä»·æ ¼è®¡ç®—ç›¸å…³
- **FR-026**: ç³»ç»Ÿå¿…é¡»æ ¹æ®å­¦å‘˜çš„customer_type(è€ç”¨æˆ·/æ–°ç”¨æˆ·/äº²å‹æƒç›Š)å’Œç­‰çº§(L1-L8)åŠ¨æ€è®¡ç®—è¯¾ç¨‹ä»·æ ¼
- **FR-027**: ç³»ç»Ÿå¿…é¡»åœ¨è¯¾ç¨‹åˆ—è¡¨å’Œè¯¦æƒ…é¡µæ˜¾ç¤ºå®é™…ä»·æ ¼(è€ƒè™‘æŠ˜æ‰£åçš„ä¸ªæ€§åŒ–ä»·æ ¼)
- **FR-028**: ç³»ç»Ÿå¿…é¡»ä¸ºäº²å‹æƒç›Šç”¨æˆ·åœ¨å›¢è¯¾ä»·æ ¼ä¸Šæ˜¾ç¤º"ğŸ‰äº²å‹ä¸“äº«6æŠ˜"æ ‡ç­¾
- **FR-029**: ç³»ç»Ÿå¿…é¡»åœ¨é¢„çº¦ç¡®è®¤é¡µé¢æ˜¾ç¤ºä»·æ ¼æ˜ç»†(åŸºç¡€ä»·æ ¼/æŠ˜æ‰£/å®ä»˜ä»·æ ¼)
- **FR-030**: ç³»ç»Ÿå¿…é¡»æ”¯æŒå¤šç»´åº¦å®šä»·è§„åˆ™:å®¢æˆ·ç±»å‹/äººç¾¤ç±»å‹/è¯¾ç¨‹ç±»å‹/ç­‰çº§èŒƒå›´
- **FR-031**: ç³»ç»Ÿå¿…é¡»æ”¯æŒå›ºå®šä»·æ ¼è¯¾ç¨‹(ä½“éªŒè¯¾200å…ƒ)å’ŒåŠ¨æ€ä»·æ ¼è¯¾ç¨‹(åŸºäºç”¨æˆ·æƒç›Šè®¡ç®—)
- **FR-032**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨ä»·æ ¼è§„åˆ™(pricing_ruleè¡¨):è§„åˆ™åç§°/å®¢æˆ·ç±»å‹/äººç¾¤ç±»å‹/è¯¾ç¨‹ç±»å‹/ç­‰çº§èŒƒå›´/æ¯å°æ—¶ä»·æ ¼/æŠ˜æ‰£ç‡

#### Data Requirements

- **FR-027**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨è¯¾ç¨‹çš„æ‰€æœ‰å­—æ®µ:è¯¾ç¨‹å/ç±»å‹/æ—¶é—´æ®µ/åœ°ç‚¹/æ•™ç»ƒID/ä»·æ ¼/æœ€å¤§äººæ•°/æœ€å°‘äººæ•°/å€™è¡¥ä¸Šé™/è¯¾ç¨‹ä»‹ç»
- **FR-028**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨è¯¾ç¨‹æ ‡ç­¾ä¿¡æ¯(course_tagsè¡¨):ç­‰çº§èŒƒå›´(JSONæ•°ç»„)/å¹´é¾„èŒƒå›´/æ€§åˆ«è¦æ±‚/è¯¾ç¨‹ç±»å‹/æŠ€èƒ½ç±»å‹(JSONæ•°ç»„)/è¯¾ç¨‹å¼ºåº¦/ä¸»æ•™è€å¸ˆ/åŠ©æ•™æ”¯æŒ/çƒ­é—¨ç¨‹åº¦/ç›®æ ‡äººç¾¤/å®šä»·ç±»åˆ«/åŸºç¡€ä»·æ ¼/å®šä»·ç­–ç•¥
- **FR-029**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨é¢„çº¦è®°å½•:é¢„çº¦ID/æ¡£æ¡ˆID/è¯¾ç¨‹ID/é¢„çº¦æ—¶é—´/çŠ¶æ€(å¾…ä¸Šè¯¾/å·²å®Œæˆ/å·²å–æ¶ˆ/è¯·å‡)/åŒ¹é…åˆ†æ•°/åŒ¹é…è¯¦æƒ…
- **FR-030**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨æ ‡ç­¾åŒ¹é…æ—¥å¿—(tag_match_logè¡¨):æ¡£æ¡ˆID/è¯¾ç¨‹ID/æ˜¯å¦åŒ¹é…/åŒ¹é…åˆ†æ•°/åŒ¹é…è¯¦æƒ…/åŒ¹é…è§„åˆ™ç±»å‹/ç®—æ³•ç‰ˆæœ¬/åˆ›å»ºæ—¶é—´
- **FR-031**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨ä»·æ ¼è§„åˆ™(pricing_ruleè¡¨):è§„åˆ™åç§°/å®¢æˆ·ç±»å‹/äººç¾¤ç±»å‹/è¯¾ç¨‹ç±»å‹/ç­‰çº§èŒƒå›´/æ¯å°æ—¶ä»·æ ¼/æŠ˜æ‰£ç‡/ç”Ÿæ•ˆæ—¥æœŸ/æ˜¯å¦å¯ç”¨
- **FR-032**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨è¡¥è¯¾è®°å½•:è¡¥è¯¾ID/åŸé¢„çº¦ID/æ¡£æ¡ˆID/ç”Ÿæˆæ—¶é—´/çŠ¶æ€(å¾…è¡¥è¯¾/å·²è¡¥è¯¾)
- **FR-033**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨æ•™ç»ƒä¿¡æ¯:æ•™ç»ƒID/å§“å/ç…§ç‰‡/ç­‰çº§/æ“…é•¿/ä»‹ç»/è¯„åˆ†/æˆè¯¾æ—¶é•¿
- **FR-034**: ç³»ç»Ÿå¿…é¡»è®°å½•å­¦å‘˜çš„å®Œæ•´æ ‡ç­¾ä¿¡æ¯:å¹´é¾„æ ‡ç­¾/ç­‰çº§/æ€§åˆ«/å‘å±•æ ‡ç­¾/æƒç›Šæ ‡ç­¾/å…³ç³»æ ‡ç­¾/è‡ªåŠ¨è®¡ç®—æ ‡ç­¾/é¦–æ¬¡æŠ¥è¯¾æ—¥æœŸ/å®¢æˆ·ç±»å‹
- **FR-035**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨é¢„çº¦ç±»å‹æ ‡è¯†(singleå•æ¬¡/recurringé•¿æœŸå›ºå®š)
- **FR-036**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨é¢„çº¦çŠ¶æ€(æ’é˜Ÿä¸­/å¾…ä¸Šè¯¾/å·²å®Œæˆ/å·²å–æ¶ˆ/å€™è¡¥ä¸­/å€™è¡¥å¤±è´¥)
- **FR-037**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨è¡¥è¯¾ç›¸å…³ä¿¡æ¯:æ˜¯å¦ä¸ºè¡¥è¯¾/åŸå§‹é¢„çº¦ID/è¡¥è¯¾æˆªæ­¢æ—¥æœŸ
- **FR-038**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨ç­¾åˆ°ç›¸å…³ä¿¡æ¯:ç­¾åˆ°çŠ¶æ€/ç­¾åˆ°æ—¶é—´/ç®¡ç†å‘˜ID
- **FR-039**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨è¿ç»­è¯·å‡æ¬¡æ•°(å›ºå®šç­ç”¨)
- **FR-040**: ç³»ç»Ÿå¿…é¡»å­˜å‚¨é•¿æœŸå›ºå®šé¢„çº¦è®°å½•:å¼€å§‹æ—¥æœŸ/ç»“æŸæ—¥æœŸ/çŠ¶æ€/è¿ç»­è¯·å‡æ¬¡æ•°

### Key Entities

- **course**: è¯¾ç¨‹å®ä½“ï¼ŒåŒ…å«åŸºç¡€è¯¾ç¨‹ä¿¡æ¯
  - æ ¸å¿ƒå±æ€§: id, name, description, price, max_capacity, min_capacity, location, introduction, end_date
  - ä¸šåŠ¡è§„åˆ™: è¯¾ç¨‹åŸºç¡€ä¿¡æ¯ä¸æ ‡ç­¾ä¿¡æ¯åˆ†ç¦»å­˜å‚¨; æ”¯æŒä¸»æ•™ç»ƒ+ä»£è¯¾æ•™ç»ƒæ¨¡å¼; å›ºå®šç­è¯¾ç¨‹éœ€è¦è®¾ç½®ç»“æŸæ—¥æœŸ

- **course_tags**: è¯¾ç¨‹æ ‡ç­¾å®ä½“ï¼Œå­˜å‚¨è¯¾ç¨‹çš„å¤šç»´åº¦æ ‡ç­¾ä¿¡æ¯
  - æ ¸å¿ƒå±æ€§: id, course_id, level_range (JSONæ•°ç»„å¦‚["L1+", "L2"]), age_range, gender, course_type, skill_types (JSONæ•°ç»„), intensity_level, main_instructor, has_assistant, popularity
  - ä¸šåŠ¡è§„åˆ™: æ”¯æŒè·¨çº§æ ‡ç­¾(L1+ç­‰); å¤šæŠ€èƒ½æ ‡ç­¾JSONå­˜å‚¨; çƒ­é—¨ç¨‹åº¦å½±å“æ¨èæ’åº; ä¸courseä¸€å¯¹ä¸€å…³ç³»

- **schedule**: è¯¾ç¨‹æ—¶é—´è¡¨å®ä½“ï¼Œå®šä¹‰è¯¾ç¨‹çš„å…·ä½“æ—¶é—´å®‰æ’
  - æ ¸å¿ƒå±æ€§: id, course_id, start_time, end_time, location, recurring_pattern
  - ä¸šåŠ¡è§„åˆ™: æ”¯æŒå•æ¬¡å’Œé‡å¤è¯¾ç¨‹å®‰æ’ï¼Œå›ºå®šç­å­¦æœŸ3ä¸ªæœˆ; æ—¶é—´å†²çªæ£€æµ‹åŸºäºschedule

- **booking**: é¢„çº¦å®ä½“ï¼Œè®°å½•ç”¨æˆ·çš„è¯¾ç¨‹é¢„çº¦å’ŒåŒ¹é…ä¿¡æ¯
  - æ ¸å¿ƒå±æ€§: id, user_id, profile_id, course_id, schedule_id, status, booking_time, match_score, match_details (JSON)
  - ä¸šåŠ¡è§„åˆ™: æ¯ä¸ªé¢„çº¦è®°å½•åŒ¹é…åˆ†æ•°å’Œè¯¦æƒ…; çŠ¶æ€åŒ…å«å¾…ä¸Šè¯¾/å·²å®Œæˆ/å·²å–æ¶ˆ/è¯·å‡/æ—·è¯¾; åŒ¹é…è¯¦æƒ…ä¾›åˆ†æä½¿ç”¨

- **tag_match_log**: æ ‡ç­¾åŒ¹é…æ—¥å¿—å®ä½“ï¼Œè®°å½•åŒ¹é…ç®—æ³•çš„æ‰§è¡Œè¿‡ç¨‹
  - æ ¸å¿ƒå±æ€§: id, profile_id, course_id, is_matched, match_score, match_details (JSON), match_rule, algorithm_version, created_at
  - ä¸šåŠ¡è§„åˆ™: æ¯æ¬¡åŒ¹é…è®¡ç®—éƒ½è®°å½•æ—¥å¿—; æ”¯æŒç®—æ³•ç‰ˆæœ¬è¿­ä»£; åŒ¹é…è¯¦æƒ…JSONå­˜å‚¨å„ç»´åº¦å¾—åˆ†; ç”¨äºè°ƒè¯•å’Œä¼˜åŒ–

- **profile**: å­¦å‘˜æ¡£æ¡ˆå®ä½“ï¼ŒåŒ…å«å­¦å‘˜çš„æ ‡ç­¾ä¿¡æ¯(æ‰©å±•è‡ªMVP-1)
  - æ ¸å¿ƒå±æ€§: id, name, birthday, gender, level, development, privilege, status
  - ä¸šåŠ¡è§„åˆ™: levelå½±å“è¯¾ç¨‹åŒ¹é…; developmentæ ‡ç­¾ç”¨äºå‘å±•åŒ¹é…; privilegeæ ‡ç­¾å½±å“æƒç›ŠåŒ¹é…; è‡ªåŠ¨è®¡ç®—å¹´é¾„æ ‡ç­¾

- **instructor**: æ•™ç»ƒå®ä½“ï¼ŒåŒ…å«æ•™ç»ƒä¿¡æ¯
  - æ ¸å¿ƒå±æ€§: id, name, avatar_url, bio, specialties, qualifications, rating, teaching_hours
  - ä¸šåŠ¡è§„åˆ™: æ•™ç»ƒå¯ä»¥ç®¡ç†è‡ªå·±çš„è¯¾ç¨‹ï¼Œè¯„åˆ†ç”±è¿è¥æ‰‹åŠ¨è®¾ç½®

- **makeup_record**: è¡¥è¯¾è®°å½•å®ä½“ï¼Œè®°å½•å›ºå®šç­è¯·å‡åçš„è¡¥è¯¾éœ€æ±‚
  - æ ¸å¿ƒå±æ€§: id, original_booking_id, profile_id, generated_time, status (å¾…è¡¥è¯¾/å·²è¡¥è¯¾)
  - ä¸šåŠ¡è§„åˆ™: è¯·å‡æˆåŠŸåè‡ªåŠ¨ç”Ÿæˆï¼Œæ— æœ‰æ•ˆæœŸé™åˆ¶; è¡¥è¯¾æ—¶åŒæ ·éœ€è¦æ ‡ç­¾åŒ¹é…

---

## Success Criteria *(mandatory)*

- **SC-001**: ç”¨æˆ·åˆ‡æ¢æ¡£æ¡ˆå,è¯¾ç¨‹åˆ—è¡¨åœ¨500mså†…æŒ‰æ ‡ç­¾åŒ¹é…åº¦é‡æ–°æ’åºæ˜¾ç¤º,æˆåŠŸç‡>99%
- **SC-002**: ç”¨æˆ·ç‚¹å‡»è¯¾ç¨‹å¡ç‰‡è¿›å…¥è¯¦æƒ…é¡µ,é¡µé¢åŠ è½½æ—¶é—´<1ç§’,åŒ¹é…è¯¦æƒ…æ˜¾ç¤ºå‡†ç¡®ç‡>99%
- **SC-003**: ç”¨æˆ·å®Œæˆé¢„çº¦æµç¨‹(é€‰è¯¾ç¨‹â†’æŸ¥çœ‹åŒ¹é…åº¦â†’ç¡®è®¤é¢„çº¦),æ•´ä¸ªæµç¨‹<2åˆ†é’Ÿ,æµç¨‹æ”¾å¼ƒç‡<10%
- **SC-004**: 3ç»´ç¡¬åŒ¹é…ç™½åå•è§„åˆ™æ‰§è¡Œå‡†ç¡®ç‡100%(æ‰€æœ‰å­¦å‘˜å¿…é¡»é€šè¿‡ç­‰çº§+å¹´é¾„+æ€§åˆ«3ç»´å¼ºåˆ¶éªŒè¯,ä»»ä¸€ç»´åº¦ä¸åŒ¹é…åˆ™è¯¾ç¨‹ä¸æ˜¾ç¤º) (æ ¹æ®Q4,Q11,Q16,Q19æ›´æ–°)
- **SC-005**: è·¨çº§æ ‡ç­¾åŒ¹é…å‡†ç¡®ç‡100%(L1+å­¦å‘˜èƒ½æ­£ç¡®åŒ¹é…["L1+", "L2"]è¯¾ç¨‹)
- **SC-006**: æ ‡ç­¾åŒ¹é…ç®—æ³•æ‰§è¡Œæ—¶é—´<100ms,åŒ¹é…åˆ†æ•°è®¡ç®—å‡†ç¡®ç‡>95%
- **SC-007**: ä½“éªŒè¯¾é™åˆ¶å‡†ç¡®ç‡100%(å·²ä½“éªŒè¿‡çš„å¾®ä¿¡å·æ— æ³•å†æ¬¡é¢„çº¦ä½“éªŒè¯¾)
- **SC-008**: æ—¶é—´å†²çªæ£€æµ‹å‡†ç¡®ç‡100%(åŒä¸€æ—¶é—´ä¸å…è®¸é¢„çº¦ä¸¤èŠ‚è¯¾)
- **SC-009**: å–æ¶ˆé¢„çº¦/è¯·å‡å,åé¢åœ¨10ç§’å†…é‡Šæ”¾å¹¶é‡æ–°è®¡ç®—å€™è¡¥é˜Ÿåˆ—åŒ¹é…åº¦,æˆåŠŸç‡>95%
- **SC-010**: è¯¾ç¨‹çŠ¶æ€è‡ªåŠ¨æ›´æ–°å‡†ç¡®ç‡100%(å·²æ»¡å‘˜/å·²å¼€è¯¾ç­‰çŠ¶æ€å®æ—¶æ›´æ–°,å½±å“åŒ¹é…ç»“æœ)
- **SC-011**: æ ‡ç­¾åŒ¹é…æ—¥å¿—è®°å½•å®Œæ•´ç‡100%(æ¯æ¬¡åŒ¹é…éƒ½æœ‰è¯¦ç»†æ—¥å¿—å¯ä¾›åˆ†æ)
- **SC-012**: å›ºå®šç­æ’ç­ç”³è¯·æäº¤æˆåŠŸç‡>99%,å®¡æ ¸æ—¶æ˜¾ç¤ºæ ‡ç­¾åŒ¹é…åº¦ä¾›è¿è¥å‚è€ƒ
- **SC-013**: "è¯¾ç¨‹Tab"åŠ è½½å½“æœŸè¯¾ç¨‹åˆ—è¡¨æ—¶é—´<1ç§’,æ˜¾ç¤ºè¯¾ç¨‹åŒ¹é…åº¦ä¿¡æ¯å‡†ç¡®ç‡>99%

---

## Assumptions

- å‡è®¾è¯¾ç¨‹æ•°æ®ç”±è¿è¥äººå‘˜é€šè¿‡Webåå°ç®¡ç†
- å‡è®¾è¯¾ç¨‹æ—¶é—´å®‰æ’åˆç†ï¼Œä¸ä¼šé¢‘ç¹å˜æ›´
- å‡è®¾ç”¨æˆ·ç½‘ç»œç¯å¢ƒç¨³å®šï¼Œèƒ½å¤Ÿå®Œæˆé¢„çº¦æ“ä½œ
- å‡è®¾ç”¨æˆ·äº†è§£è¯¾ç¨‹å–æ¶ˆè§„åˆ™å’Œæ—¶é—´é™åˆ¶

---

## Out of Scope (MVP-2A ä¸å®ç°)

ä»¥ä¸‹åŠŸèƒ½æ˜ç¡®æ’é™¤åœ¨MVP-2Aä¹‹å¤–,ç•™å¾…åç»­MVPå®ç°:

1. **å€™è¡¥é˜Ÿåˆ—ç®¡ç†** â†’ MVP-2Bå®ç°
2. **è¡¥è¯¾åŠŸèƒ½çš„å®Œæ•´å®ç°**(ä»…ç”Ÿæˆå¾…è¡¥è¯¾è®°å½•,è¡¥è¯¾é€‰è¯¾åŠŸèƒ½ç•™åˆ°MVP-2B)
3. **ç§æ•™è¯¾ç³»ç»Ÿ** â†’ MVP-2Cå®ç°
4. **å¾®ä¿¡æ”¯ä»˜é›†æˆ** â†’ MVP-3å®ç°(MVP-2Aä½“éªŒè¯¾ä»…æ¨¡æ‹Ÿæ”¯ä»˜)
5. **é’±åŒ…å……å€¼åŠŸèƒ½** â†’ MVP-4å®ç°
6. **è¯¾ç¨‹è¯„ä»·åŠŸèƒ½** â†’ MVP-5å®ç°
7. **è¯¾ç¨‹åˆ†äº«åŠŸèƒ½** â†’ MVP-5å®ç°
8. **è¯¾ç¨‹æ·»åŠ åˆ°æ—¥å†** â†’ MVP-5å®ç°
9. **è¯¾ç¨‹æé†’é€šçŸ¥** â†’ MVP-5å®ç°

---

## Open Questions (optional)

1. **è¯¾ç¨‹å›¾ç‰‡**: æ˜¯å¦éœ€è¦ä¸Šä¼ è¯¾ç¨‹å›¾ç‰‡?(å½“å‰æš‚ä¸éœ€è¦,åå°å¯é€‰å¡«)
2. **æ•™ç»ƒè¯„åˆ†**: æ•™ç»ƒè¯„åˆ†æ•°æ®æ¥æº?(è¿è¥æ‰‹åŠ¨è¾“å…¥,æš‚ä¸å¼€æ”¾ç”¨æˆ·è¯„ä»·)
3. **è¯¾ç¨‹æ¨è**: æ˜¯å¦éœ€è¦"ä¸ºä½ æ¨è"åŠŸèƒ½?(MVP-2Aä¸å®ç°,ç•™åˆ°åæœŸ)
4. **è¯¾ç¨‹æœç´¢**: æ˜¯å¦éœ€è¦æœç´¢åŠŸèƒ½?(MVP-2Aä¸å®ç°,ç­›é€‰å³å¯)

---

## Integration Points

### Dependencies on MVP-1
- **ç”¨æˆ·èº«ä»½ç³»ç»Ÿ**: éœ€è¦MVP-1çš„ç”¨æˆ·ç™»å½•å’Œæ¡£æ¡ˆç®¡ç†åŠŸèƒ½
- **å­¦å‘˜æ¡£æ¡ˆ**: é¢„çº¦æ—¶éœ€è¦é€‰æ‹©ä¸ºå“ªä¸ªå­¦å‘˜é¢„çº¦
- **JWTè®¤è¯**: APIè°ƒç”¨éœ€è¦ä½¿ç”¨MVP-1çš„JWT Token

### Critical Dependencies on Future MVPs
- **MVP-2B (å€™è¡¥ä¸è¡¥è¯¾)**:
  - å–æ¶ˆé¢„çº¦åŠŸèƒ½ç›´æ¥è§¦å‘å€™è¡¥é˜Ÿåˆ—æœºåˆ¶
  - è¯·å‡åŠŸèƒ½ä¸ºè¡¥è¯¾ç³»ç»Ÿæä¾›"å¾…è¡¥è¯¾"è®°å½•è¾“å…¥
  - éœ€è¦ä¸ºMVP-2Bé¢„ç•™è¯¾ç¨‹çŠ¶æ€å˜æ›´æ¥å£
- **MVP-2C (ç§æ•™ç³»ç»Ÿ)**:
  - å¤ç”¨é¢„çº¦é€»è¾‘å’Œæ—¶é—´å†²çªæ£€æŸ¥æœºåˆ¶
  - éœ€è¦ä¸ºç§æ•™è¯¾ç¨‹é¢„ç•™è¯¾ç¨‹ç±»å‹æ‰©å±•
- **MVP-3 (æ”¯ä»˜ç³»ç»Ÿ)**: ä¸ºä»˜è´¹è¯¾ç¨‹æä¾›æ”¯ä»˜åŠŸèƒ½
- **MVP-5 (è¿è¥åå°)**: æä¾›è¯¾ç¨‹ç®¡ç†åŠŸèƒ½

### API Design Considerations
- **è¯¾ç¨‹çŠ¶æ€æ¥å£**: éœ€æ”¯æŒMVP-2Bçš„å€™è¡¥è§¦å‘æœºåˆ¶ï¼Œé›†æˆæ ‡ç­¾åŒ¹é…çŠ¶æ€
- **é¢„çº¦çŠ¶æ€æ¥å£**: éœ€æ”¯æŒMVP-2Bçš„è¡¥è¯¾è®°å½•ç”Ÿæˆï¼ŒåŒ…å«åŒ¹é…åˆ†æ•°å’Œè¯¦æƒ…
- **æ—¶é—´å†²çªæ£€æŸ¥**: éœ€åŒæ—¶æ”¯æŒå›¢è¯¾å’Œç§æ•™è¯¾ç±»å‹ï¼ŒåŸºäºæ ‡ç­¾é¢„ç­›é€‰
- **å–æ¶ˆé¢„çº¦æ¥å£**: éœ€å¼‚æ­¥é€šçŸ¥MVP-2Bå€™è¡¥ç³»ç»Ÿï¼Œé‡æ–°è®¡ç®—åŒ¹é…åº¦
- **æ ‡ç­¾åŒ¹é…æ¥å£**: æ–°å¢è¯¾ç¨‹åŒ¹é…APIï¼Œæ”¯æŒå¤šç»´åº¦æ ‡ç­¾åŒ¹é…ç®—æ³•
- **ä»·æ ¼è®¡ç®—æ¥å£**: æ–°å¢ä¸ªæ€§åŒ–ä»·æ ¼è®¡ç®—APIï¼ŒåŸºäºç”¨æˆ·æƒç›ŠåŠ¨æ€è®¡ç®—ä»·æ ¼
- **æ ‡ç­¾ç®¡ç†æ¥å£**: ä¸ºMVP-5é¢„ç•™æ ‡ç­¾ç®¡ç†APIæ¥å£
- **åŒ¹é…æ—¥å¿—æ¥å£**: æ”¯æŒæ ‡ç­¾åŒ¹é…æ—¥å¿—æŸ¥è¯¢å’Œåˆ†æ
- **ä»·æ ¼ç®¡ç†æ¥å£**: ä¸ºMVP-5é¢„ç•™ä»·æ ¼è§„åˆ™ç®¡ç†APIæ¥å£

### æ–°å¢APIè®¾è®¡

#### GET /api/v1/courses/match
**æ–¹æ³•**: GET
**è·¯å¾„**: /api/v1/courses/match
**æè¿°**: è·å–ç¬¦åˆå½“å‰æ¡£æ¡ˆæ ‡ç­¾çš„è¯¾ç¨‹åˆ—è¡¨ï¼ˆæ™ºèƒ½åŒ¹é…ï¼‰

**Query Parameters**:
- `profile_id` (required): æ¡£æ¡ˆID
- `week` (optional): å‘¨æ•°ï¼Œé»˜è®¤æœ¬å‘¨
- `limit` (optional): è¿”å›æ•°é‡é™åˆ¶ï¼Œé»˜è®¤20
- `include_unmatched` (optional): æ˜¯å¦åŒ…å«ä¸åŒ¹é…çš„è¯¾ç¨‹ï¼Œé»˜è®¤false

**Response**:
```json
{
  "code": 200,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "profile_tags": {
      "age_tag": "4-5",
      "level": "L2",
      "gender": "male",
      "development": "interest",
      "privilege": "new_user"
    },
    "match_rule": "3d_hard_match_validation",
    "matched_courses": [
      {
        "course_id": 1,
        "name": "åŸºç¡€ä½“æ“è®­ç»ƒç­",
        "course_tags": {
          "level_range": ["L1+", "L2"],
          "age_range": "4-5",
          "gender": "both",
          "course_type": "interest",
          "waitlist_capacity": 8
        },
        "match_score": 100.0,
        "validation_result": "whitelist_passed",
        "match_details": {
          "validation_type": "3d_hard_match",
          "overall_match": true,
          "dimension_results": {
            "level_match": { "score": 100, "result": "matched", "reason": "ç­‰çº§L2åœ¨èŒƒå›´å†…" },
            "age_match": { "score": 100, "result": "matched", "reason": "å¹´é¾„5.2å²ç¬¦åˆ4-5å²" },
            "gender_match": { "score": 100, "result": "matched", "reason": "æ€§åˆ«maleç¬¦åˆbothè¦æ±‚" }
          },
          "soft_tags": {
            "course_type": "interest",
            "development_match": "matched",
            "recommendation_score": 95
          },
          "validation_summary": {
            "total_dimensions": 3,
            "passed_dimensions": 3,
            "validation_result": "hard_match_passed"
          }
        },
        "schedule": {
          "start_time": "2025-11-01T10:00:00Z",
          "available_spots": 3
        }
      }
    ],
    "pagination": {
      "total": 50,
      "page": 1,
      "limit": 20
    }
  }
}
```

#### GET /api/v1/courses/{id}/tags
**æ–¹æ³•**: GET
**è·¯å¾„**: /api/v1/courses/{id}/tags
**æè¿°**: è·å–è¯¾ç¨‹çš„æ ‡ç­¾ä¿¡æ¯

**Response**:
```json
{
  "code": 200,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "course_id": 1,
    "level_range": ["L1+", "L2"],
    "age_range": "4-5",
    "gender": "both",
    "course_type": "interest",
    "skill_types": ["flexibility", "coordination"],
    "intensity_level": "medium",
    "main_instructor": "å¼ æ•™ç»ƒ",
    "has_assistant": true,
    "popularity": "normal"
  }
}
```

#### GET /api/v1/profiles/{id}/tags
**æ–¹æ³•**: GET
**è·¯å¾„**: /api/v1/profiles/{id}/tags
**æè¿°**: è·å–å­¦å‘˜çš„æ ‡ç­¾ä¿¡æ¯

**Response**:
```json
{
  "code": 200,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "profile_id": 1,
    "age_tag": "4-5",
    "level": "L2",
    "gender": "male",
    "development": "interest",
    "privilege": "new_user",
    "auto_calculated_tags": {
      "age_tag": "4-5å²",
      "age_range": "4-5",
      "active_status": "active"
    }
  }
}
```

#### GET /api/v1/courses/{id}/price
**æ–¹æ³•**: GET
**è·¯å¾„**: /api/v1/courses/{id}/price
**æè¿°**: è·å–è¯¾ç¨‹çš„ä¸ªæ€§åŒ–ä»·æ ¼ï¼ˆåŸºäºå­¦å‘˜æ¡£æ¡ˆåŠ¨æ€è®¡ç®—ï¼‰

**Query Parameters**:
- `profile_id` (required): å­¦å‘˜æ¡£æ¡ˆID

**Response**:
```json
{
  "code": 200,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "course_id": 1,
    "profile_id": 1,
    "customer_type": "old_user",
    "audience": "child",
    "course_type": "group",
    "level": "L2",
    "base_price": 180.00,
    "discount_rate": 1.00,
    "final_price": 180.00,
    "price_rule": "å„¿ç«¥å›¢è¯¾L1-L4è€ç”¨æˆ·ä»·",
    "price_breakdown": {
      "price_per_hour": 180.00,
      "duration_hours": 1.0,
      "subtotal": 180.00,
      "discount": 0.00,
      "total": 180.00
    },
    "discount_label": null
  }
}
```

**äº²å‹æƒç›Šç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "customer_type": "friend",
    "base_price": 180.00,
    "discount_rate": 0.60,
    "final_price": 108.00,
    "price_rule": "å„¿ç«¥å›¢è¯¾L1-L4äº²å‹ä»·",
    "price_breakdown": {
      "price_per_hour": 180.00,
      "duration_hours": 1.0,
      "subtotal": 180.00,
      "discount": 72.00,
      "total": 108.00
    },
    "discount_label": "ğŸ‰äº²å‹ä¸“äº«6æŠ˜"
  }
}
```

### Technical Dependencies
- **å¾®ä¿¡å°ç¨‹åº**: å‰ç«¯å±•ç¤ºå’Œç”¨æˆ·äº¤äº’
- **åç«¯API**: ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®ç®¡ç†
- **æ•°æ®åº“**: æ•°æ®æŒä¹…åŒ–å’ŒæŸ¥è¯¢
- **å¾®ä¿¡æ”¯ä»˜**: æœªæ¥æ”¯ä»˜åŠŸèƒ½çš„é›†æˆï¼ˆMVP-3ï¼‰

---

## Appendix *(optional)*

### è¯¾ç¨‹æ ‡ç­¾å­—æ®µæšä¸¾

**å¹´é¾„æ®µ** (å›ºå®šå­—æ®µ):
- `2.5-4å²`
- `4-6å²`
- `6-12å²`
- `12-18å²`
- `18å²ä»¥ä¸Š`

**è¯¾ç¨‹ç­‰çº§** (å›ºå®šå­—æ®µ):
- `L1`, `L2`, `L3`, `L4`, `L5`, `L6`

**è¯¾ç¨‹ç±»å‹** (å›ºå®šå­—æ®µ):
- `å›¢è¯¾` (2äººä»¥ä¸Š)
- `ä½“éªŒè¯¾` (å•æ¬¡ä½“éªŒ)
- `é•¿è®­è¯¾` (ä¸€å‘¨10å°æ—¶ä»¥ä¸Š)
- `å†¬ä»¤è¥`
- `å¤ä»¤è¥`

**æŠ€èƒ½ç±»å‹** (å›ºå®šå­—æ®µ):
- `å€’ç«‹è¯¾`
- `ç©ºç¿»è¯¾`

---

---

## æŠ€æœ¯å®ç° (RuoYiæ¶æ„)

### æ ¸å¿ƒç®—æ³•å®ç°

#### 3Dç¡¬åŒ¹é…ç®—æ³•Service
```java
@Service
public class CourseMatchingService {

    @Autowired
    private GymCourseMapper courseMapper;

    @Autowired
    private GymStudentProfileMapper profileMapper;

    /**
     * 3ç»´ç¡¬åŒ¹é…ç®—æ³•ï¼šç­‰çº§+å¹´é¾„+æ€§åˆ«
     */
    public CourseMatchingResult findMatchedCourses(Long profileId) {
        GymStudentProfile profile = profileMapper.selectGymStudentProfileByProfileId(profileId);

        // è®¡ç®—å¹´é¾„ï¼ˆä½¿ç”¨è™šæ‹Ÿå¹´é¾„å¦‚æœå­˜åœ¨ï¼‰
        Integer age = profile.getVirtualAge() != null ? profile.getVirtualAge() :
                      calculateAge(profile.getBirthday());

        LambdaQueryWrapper<GymCourse> wrapper = new LambdaQueryWrapper<>();

        // ç­‰çº§åŒ¹é…
        wrapper.ge(GymCourse::getMinLevel, profile.getSkillLevel())
               .le(GymCourse::getMaxLevel, profile.getSkillLevel());

        // å¹´é¾„åŒ¹é…
        wrapper.le(GymCourse::getMinAge, age)
               .ge(GymCourse::getMaxAge, age);

        // æ€§åˆ«åŒ¹é…
        wrapper.and(w -> w.isNull(GymCourse::getGenderRestriction)
                      .or().eq(GymCourse::getGenderRestriction, "2")  // ä¸é™
                      .or().eq(GymCourse::getGenderRestriction, profile.getGender()));

        wrapper.eq(GymCourse::getStatus, "0")
               .orderByAsc(GymCourse::getStartTime)
               .orderByDesc(GymCourse::getPopularity);

        List<GymCourse> courses = courseMapper.selectList(wrapper);

        // è®¡ç®—åŒ¹é…åº¦åˆ†æ•°
        return new CourseMatchingResult(courses.stream()
                .map(course -> new CourseWithScore(course, calculateMatchingScore(profile, course, age)))
                .sorted((a, b) -> b.getScore().compareTo(a.getScore()))
                .collect(Collectors.toList()));
    }

    private Integer calculateMatchingScore(GymStudentProfile profile, GymCourse course, Integer age) {
        int score = 0;

        // ç­‰çº§åŒ¹é…åˆ†æ•° (40%æƒé‡)
        if (isLevelMatch(profile.getSkillLevel(), course)) {
            score += 40;
        }

        // å¹´é¾„åŒ¹é…åˆ†æ•° (30%æƒé‡)
        if (isAgeMatch(age, course)) {
            score += 30;
        }

        // æ€§åˆ«åŒ¹é…åˆ†æ•° (30%æƒé‡)
        if (isGenderMatch(profile.getGender(), course)) {
            score += 30;
        }

        return score;
    }
}
```

#### æ—¶é—´å†²çªæ£€æµ‹ç®—æ³•
```java
@Service
public class BookingConflictService {

    @Autowired
    private GymBookingMapper bookingMapper;

    /**
     * æ£€æŸ¥é¢„çº¦æ—¶é—´å†²çª
     */
    public boolean hasTimeConflict(Long profileId, LocalDateTime startTime, LocalDateTime endTime) {
        LambdaQueryWrapper<GymBooking> wrapper = new LambdaQueryWrapper<>();
        wrapper.eq(GymBooking::getProfileId, profileId)
               .in(GymBooking::getStatus, Arrays.asList("confirmed", "pending"))
               .and(w -> w
                   // æƒ…å†µ1: æ–°é¢„çº¦å¼€å§‹æ—¶é—´åœ¨å·²æœ‰é¢„çº¦æ—¶é—´èŒƒå›´å†…
                   .between(GymBooking::getStartTime, startTime, endTime)
                   // æƒ…å†µ2: æ–°é¢„çº¦ç»“æŸæ—¶é—´åœ¨å·²æœ‰é¢„çº¦æ—¶é—´èŒƒå›´å†…
                   .or().between(GymBooking::getEndTime, startTime, endTime)
                   // æƒ…å†µ3: æ–°é¢„çº¦å®Œå…¨åŒ…å«å·²æœ‰é¢„çº¦
                   .or().le(GymBooking::getStartTime, startTime)
                       .ge(GymBooking::getEndTime, endTime));

        Long count = bookingMapper.selectCount(wrapper);
        return count > 0;
    }

    @Transactional(rollbackFor = Exception.class)
    public AjaxResult createBooking(BookingRequest request) {
        // 1. æ£€æŸ¥æ—¶é—´å†²çª
        if (hasTimeConflict(request.getProfileId(), request.getStartTime(), request.getEndTime())) {
            return AjaxResult.error("é¢„çº¦æ—¶é—´ä¸å·²æœ‰è¯¾ç¨‹å†²çªï¼Œè¯·é€‰æ‹©å…¶ä»–æ—¶é—´");
        }

        // 2. æ‰§è¡Œ3DåŒ¹é…éªŒè¯
        CourseMatchingResult matchingResult = courseMatchingService.findMatchedCourses(request.getProfileId());
        boolean isMatched = matchingResult.getCourses().stream()
                .anyMatch(course -> course.getCourseId().equals(request.getCourseId()));

        if (!isMatched) {
            return AjaxResult.error("è¯¥è¯¾ç¨‹ä¸ç¬¦åˆå­¦å‘˜çš„æŠ€èƒ½ç­‰çº§è¦æ±‚");
        }

        // 3. æ£€æŸ¥è¯¾ç¨‹å®¹é‡
        GymCourse course = courseMapper.selectById(request.getCourseId());
        if (course.getCurrentEnrollment() >= course.getMaxCapacity()) {
            return AjaxResult.error("è¯¾ç¨‹å·²æ»¡å‘˜ï¼Œæ‚¨å¯ä»¥åŠ å…¥å€™è¡¥åˆ—è¡¨");
        }

        // 4. åˆ›å»ºé¢„çº¦è®°å½•
        GymBooking booking = new GymBooking();
        BeanUtils.copyProperties(request, booking);
        booking.setStatus("pending");
        booking.setCreateTime(LocalDateTime.now());

        return toAjax(bookingMapper.insert(booking));
    }
}
```

### MyBatis-Plusæ•°æ®è®¿é—®

#### GymCourseå®ä½“
```java
@Data
@EqualsAndHashCode(callSuper = true)
@Accessors(chain = true)
@TableName("gym_course")
public class GymCourse extends BaseEntity {

    private static final long serialVersionUID = 1L;

    @TableId(value = "course_id", type = IdType.AUTO)
    private Long courseId;

    @TableField("course_name")
    @NotBlank(message = "è¯¾ç¨‹åç§°ä¸èƒ½ä¸ºç©º")
    private String courseName;

    @TableField("course_type")
    @NotBlank(message = "è¯¾ç¨‹ç±»å‹ä¸èƒ½ä¸ºç©º")
    private String courseType;

    @TableField("skill_level_required")
    private String skillLevelRequired;

    @TableField("min_level")
    private String minLevel;

    @TableField("max_level")
    private String maxLevel;

    @TableField("min_age")
    private Integer minAge;

    @TableField("max_age")
    private Integer maxAge;

    @TableField("gender_restriction")
    private String genderRestriction;

    @TableField("max_capacity")
    private Integer maxCapacity;

    @TableField("current_enrollment")
    private Integer currentEnrollment;

    @TableField("start_time")
    private LocalDateTime startTime;

    @TableField("end_time")
    private LocalDateTime endTime;

    @TableField("base_price")
    private BigDecimal basePrice;

    @TableField("popularity")
    private String popularity;

    @Version
    private Integer version;

    // è®¡ç®—å­—æ®µ
    @TableField(exist = false)
    private String ageRangeText;

    @TableField(exist = false)
    private String levelRangeText;

    @TableField(exist = false)
    private Integer availableSlots;
}
```

#### GymCourseMapper
```java
@Mapper
public interface GymCourseMapper extends BaseMapper<GymCourse> {

    /**
     * æ ¹æ®å­¦å‘˜æ¡£æ¡ˆæŸ¥æ‰¾åŒ¹é…è¯¾ç¨‹
     */
    List<GymCourse> selectMatchedCoursesByProfile(@Param("profileId") Long profileId);

    /**
     * æ ¹æ®æ¡ä»¶æŸ¥è¯¢è¯¾ç¨‹åˆ—è¡¨
     */
    List<GymCourse> selectCourseList(GymCourse course);

    /**
     * æ›´æ–°è¯¾ç¨‹æŠ¥åäººæ•°
     */
    @Update("UPDATE gym_course SET current_enrollment = current_enrollment + #{increment} WHERE course_id = #{courseId}")
    int updateEnrollment(@Param("courseId") Long courseId, @Param("increment") Integer increment);
}
```

### Spring Boot Controllerå®ç°

#### GymCourseController
```java
@RestController
@RequestMapping("/gym/course")
public class GymCourseController extends BaseController {

    @Autowired
    private IGymCourseService courseService;

    @Autowired
    private CourseMatchingService matchingService;

    @GetMapping("/list")
    @Log(title = "è¯¾ç¨‹åˆ—è¡¨", businessType = BusinessType.SELECT)
    public TableDataInfo list(GymCourse course) {
        startPage();
        List<GymCourse> list = courseService.selectGymCourseList(course);
        return getDataTable(list);
    }

    @GetMapping("/matched/{profileId}")
    @Log(title = "æ™ºèƒ½åŒ¹é…è¯¾ç¨‹", businessType = BusinessType.SELECT)
    public AjaxResult getMatchedCourses(@PathVariable Long profileId) {
        CourseMatchingResult result = matchingService.findMatchedCourses(profileId);
        return AjaxResult.success(result);
    }

    @PostMapping("/book")
    @Log(title = "é¢„çº¦è¯¾ç¨‹", businessType = BusinessType.INSERT)
    public AjaxResult bookCourse(@Validated @RequestBody BookingRequest request) {
        return bookingConflictService.createBooking(request);
    }

    @GetMapping("/{courseId}")
    @Log(title = "è¯¾ç¨‹è¯¦æƒ…", businessType = BusinessType.SELECT)
    public AjaxResult getInfo(@PathVariable Long courseId) {
        GymCourse course = courseService.selectGymCourseByCourseId(courseId);
        if (course == null) {
            return AjaxResult.error("è¯¾ç¨‹ä¸å­˜åœ¨");
        }

        // è½¬æ¢ä¸ºVOå¯¹è±¡
        CourseVO courseVO = new CourseVO();
        BeanUtils.copyProperties(course, courseVO);

        // è®¡ç®—å¯ç”¨åé¢
        courseVO.setAvailableSlots(course.getMaxCapacity() - course.getCurrentEnrollment());

        return AjaxResult.success(courseVO);
    }
}
```

### å°ç¨‹åºç«¯é›†æˆ

#### è¯¾ç¨‹åˆ—è¡¨é¡µé¢
```javascript
// pages/courses/courses.js
Page({
  data: {
    courses: [],
    loading: false,
    categories: [
      { name: 'å…¨éƒ¨', value: 'all' },
      { name: 'ä½“éªŒè¯¾', value: 'trial' },
      { name: 'æ­£å¼è¯¾', value: 'regular' },
      { name: 'å›¢è¯¾', value: 'group' },
      { name: 'ç§æ•™è¯¾', value: 'private' }
    ],
    currentCategory: 'all',
    currentProfile: null,
    showCreateGuide: false
  },

  onLoad() {
    this.loadCurrentProfile();
    this.loadCourses();
  },

  loadCurrentProfile() {
    const profile = wx.getStorageSync('currentProfile');
    this.setData({
      currentProfile: profile,
      showCreateGuide: !profile
    });
  },

  async loadCourses(category = 'all') {
    if (this.data.loading) return;

    this.setData({ loading: true });

    try {
      let url = '/gym/course/list';

      // å¦‚æœæœ‰å­¦å‘˜æ¡£æ¡ˆä¸”é€‰æ‹©"å…¨éƒ¨"ï¼Œä½¿ç”¨æ™ºèƒ½åŒ¹é…
      if (this.data.currentProfile && category === 'all') {
        url = `/gym/course/matched/${this.data.currentProfile.profileId}`;
      } else if (category !== 'all') {
        url = `/gym/course/list?courseType=${category}`;
      }

      const response = await this.request({
        url: url,
        method: 'GET'
      });

      if (response.code === 200) {
        this.setData({
          courses: response.data.courses || response.data,
          loading: false
        });
      }
    } catch (error) {
      this.setData({ loading: false });
      wx.showToast({
        title: 'åŠ è½½è¯¾ç¨‹å¤±è´¥',
        icon: 'error'
      });
    }
  },

  // åˆ‡æ¢åˆ†ç±»æ ‡ç­¾
  onCategoryTap(e) {
    const category = e.currentTarget.dataset.category;
    this.setData({
      currentCategory: category
    });
    this.loadCourses(category);
  },

  // é¢„çº¦è¯¾ç¨‹
  async onBookCourse(e) {
    if (!this.data.currentProfile) {
      wx.showModal({
        title: 'æç¤º',
        content: 'è¯·å…ˆåˆ›å»ºå­¦å‘˜æ¡£æ¡ˆï¼Œè·å–æ‚¨çš„è¯¾ç¨‹',
        confirmText: 'å»åˆ›å»º',
        success: () => {
          wx.navigateTo({
            url: '/pages/profiles/create'
          });
        }
      });
      return;
    }

    const courseId = e.currentTarget.dataset.courseId;

    // æ˜¾ç¤ºé¢„çº¦ç¡®è®¤å¼¹çª—
    wx.showModal({
      title: 'é¢„çº¦ç¡®è®¤',
      content: `ä¸º${this.data.currentProfile.studentName}é¢„çº¦æœ¬è¯¾ç¨‹ï¼Ÿ`,
      confirmText: 'ç¡®è®¤é¢„çº¦',
      success: async () => {
        await this.doBooking(courseId);
      }
    });
  },

  async doBooking(courseId) {
    try {
      wx.showLoading({ title: 'é¢„çº¦ä¸­...' });

      const response = await this.request({
        url: '/gym/course/book',
        method: 'POST',
        data: {
          courseId: courseId,
          profileId: this.data.currentProfile.profileId
        }
      });

      wx.hideLoading();

      if (response.code === 200) {
        wx.showToast({
          title: 'é¢„çº¦æˆåŠŸ',
          icon: 'success'
        });

        // åˆ·æ–°è¯¾ç¨‹åˆ—è¡¨
        this.loadCourses(this.data.currentCategory);
      } else {
        wx.showToast({
          title: response.msg || 'é¢„çº¦å¤±è´¥',
          icon: 'error'
        });
      }
    } catch (error) {
      wx.hideLoading();
      wx.showToast({
        title: 'é¢„çº¦å¤±è´¥',
        icon: 'error'
      });
    }
  }
});
```

### RuoYiç®¡ç†åå°é›†æˆ

#### Vue3è¯¾ç¨‹ç®¡ç†é¡µé¢
```vue
<template>
  <div class="app-container">
    <!-- æœç´¢åŒºåŸŸ -->
    <el-form :model="queryParams" ref="queryForm" size="small" :inline="true">
      <el-form-item label="è¯¾ç¨‹åç§°">
        <el-input
          v-model="queryParams.courseName"
          placeholder="è¯·è¾“å…¥è¯¾ç¨‹åç§°"
          clearable
          @keyup.enter.native="handleQuery"
        />
      </el-form-item>
      <el-form-item label="è¯¾ç¨‹ç±»å‹">
        <el-select v-model="queryParams.courseType" placeholder="è¯·é€‰æ‹©è¯¾ç¨‹ç±»å‹" clearable>
          <el-option label="å›¢è¯¾" value="group" />
          <el-option label="ä½“éªŒè¯¾" value="trial" />
          <el-option label="ç§æ•™1v1" value="private_1v1" />
          <el-option label="ç§æ•™1v2" value="private_1v2" />
        </el-select>
      </el-form-item>
      <el-form-item>
        <el-button type="primary" icon="Search" @click="handleQuery">æœç´¢</el-button>
        <el-button icon="Refresh" @click="resetQuery">é‡ç½®</el-button>
      </el-form-item>
    </el-form>

    <!-- æŒ‰é’®åŒºåŸŸ -->
    <el-row :gutter="10" class="mb8">
      <el-col :span="1.5">
        <el-button
          type="primary"
          plain
          icon="Plus"
          @click="handleAdd"
          v-hasPermi="['gymnastics:course:add']"
        >æ–°å¢</el-button>
      </el-col>
      <el-col :span="1.5">
        <el-button
          type="success"
          plain
          icon="Edit"
          :disabled="single"
          @click="handleUpdate"
          v-hasPermi="['gymnastics:course:edit']"
        >ä¿®æ”¹</el-button>
      </el-col>
      <el-col :span="1.5">
        <el-button
          type="danger"
          plain
          icon="Delete"
          :disabled="multiple"
          @click="handleDelete"
          v-hasPermi="['gymnastics:course:remove']"
        >åˆ é™¤</el-button>
      </el-col>
      <right-toolbar :showSearch.sync="showSearch" @queryTable="getList" />
    </el-row>

    <!-- è¡¨æ ¼åŒºåŸŸ -->
    <el-table v-loading="loading" :data="courseList" @selection-change="handleSelectionChange">
      <el-table-column type="selection" width="55" align="center" />
      <el-table-column label="è¯¾ç¨‹ID" align="center" prop="courseId" width="80" />
      <el-table-column label="è¯¾ç¨‹åç§°" align="center" prop="courseName" :show-overflow-tooltip="true" />
      <el-table-column label="è¯¾ç¨‹ç±»å‹" align="center" prop="courseType">
        <template #default="scope">
          <dict-tag :options="course_type" :value="scope.row.courseType" />
        </template>
      </el-table-column>
      <el-table-column label="ç­‰çº§è¦æ±‚" align="center" prop="skillLevelRequired" />
      <el-table-column label="å¹´é¾„èŒƒå›´" align="center">
        <template #default="scope">
          {{ scope.row.minAge }}-{{ scope.row.maxAge }}å²
        </template>
      </el-table-column>
      <el-table-column label="å®¹é‡" align="center">
        <template #default="scope">
          {{ scope.row.currentEnrollment }}/{{ scope.row.maxCapacity }}
        </template>
      </el-table-column>
      <el-table-column label="ä»·æ ¼" align="center" prop="basePrice">
        <template #default="scope">
          Â¥{{ scope.row.basePrice }}
        </template>
      </el-table-column>
      <el-table-column label="çŠ¶æ€" align="center" prop="status">
        <template #default="scope">
          <dict-tag :options="sys_normal_disable" :value="scope.row.status" />
        </template>
      </el-table-column>
      <el-table-column label="æ“ä½œ" align="center" class="small-padding fixed-width">
        <template #default="scope">
          <el-button
            size="mini"
            type="text"
            icon="Edit"
            @click="handleUpdate(scope.row)"
            v-hasPermi="['gymnastics:course:edit']"
          >ä¿®æ”¹</el-button>
          <el-button
            size="mini"
            type="text"
            icon="Delete"
            @click="handleDelete(scope.row)"
            v-hasPermi="['gymnastics:course:remove']"
          >åˆ é™¤</el-button>
        </template>
      </el-table-column>
    </el-table>

    <!-- åˆ†é¡µåŒºåŸŸ -->
    <pagination
      v-show="total > 0"
      :total="total"
      :page.sync="queryParams.pageNum"
      :limit.sync="queryParams.pageSize"
      @pagination="getList"
    />
  </div>
</template>

<script setup name="Course">
import { listCourse, getCourse, delCourse, addCourse, updateCourse } from "@/api/gymnastics/course";

const { proxy } = getCurrentInstance();

const courseList = ref([]);
const open = ref(false);
const loading = ref(true);
const showSearch = ref(true);
const ids = ref([]);
const single = ref(true);
const multiple = ref(true);
const total = ref(0);
const title = ref("");

const data = reactive({
  form: {},
  queryParams: {
    pageNum: 1,
    pageSize: 10,
    courseName: null,
    courseType: null,
  },
});

const { queryParams, form } = toRefs(data);

/** æŸ¥è¯¢è¯¾ç¨‹åˆ—è¡¨ */
function getList() {
  loading.value = true;
  listCourse(queryParams).then(response => {
    courseList.value = response.rows;
    total.value = response.total;
    loading.value = false;
  });
}

/** æœç´¢æŒ‰é’®æ“ä½œ */
function handleQuery() {
  queryParams.value.pageNum = 1;
  getList();
}

/** é‡ç½®æŒ‰é’®æ“ä½œ */
function resetQuery() {
  proxy.resetForm("queryRef");
  handleQuery();
}

/** æ–°å¢æŒ‰é’®æ“ä½œ */
function handleAdd() {
  reset();
  open.value = true;
  title.value = "æ·»åŠ è¯¾ç¨‹";
}

/** ä¿®æ”¹æŒ‰é’®æ“ä½œ */
function handleUpdate(row) {
  reset();
  const _courseId = row.courseId || ids.value;
  getCourse(_courseId).then(response => {
    Object.assign(form, response.data);
    open.value = true;
    title.value = "ä¿®æ”¹è¯¾ç¨‹";
  });
}

/** æäº¤æŒ‰é’® */
function submitForm() {
  proxy.$refs["courseRef"].validate(valid => {
    if (valid) {
      if (form.courseId != null) {
        updateCourse(form).then(response => {
          proxy.$modal.msgSuccess("ä¿®æ”¹æˆåŠŸ");
          open.value = false;
          getList();
        });
      } else {
        addCourse(form).then(response => {
          proxy.$modal.msgSuccess("æ–°å¢æˆåŠŸ");
          open.value = false;
          getList();
        });
      }
    }
  });
}

getList();
</script>
```

**åˆ›å»ºäºº**: [äº§å“ç»ç†]
**æœ€åæ›´æ–°**: 2025-11-17
**ç‰ˆæœ¬**: v2.0.0
**æ›´æ–°å†…å®¹**: æŠ€æœ¯æ ˆé‡æ„ä¸ºRuoYiæ¶æ„ (Spring Boot + MyBatis-Plus + Vue3)
**çŠ¶æ€**: Draft