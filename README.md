# 百适体操馆小程序运营管理系统

基于 Speckit 工具链规范开发的微信小程序 + Web后台 + 后端服务完整解决方案。

## 📋 项目概述

百适体操馆小程序是一个面向体操培训机构的综合性管理平台，支持用户智能匹配预约、微信支付、钱包管理、候补通知、运营后台等核心功能。项目采用分阶段MVP开发策略，通过8个阶段逐步构建完整的业务体系。

### 🎯 核心特性

- 🎯 **智能匹配**: 基于标签体系的100%完全匹配算法
- 💰 **灵活支付**: 微信支付 + 钱包透支系统
- 📱 **微信小程序**: 面向家长和学员的主要用户界面
- 🖥️ **运营后台**: 完整的Web管理和数据统计功能
- 📅 **候补管理**: 智能候补队列和自动通知系统

### 技术栈

| 层级 | 技术 | 说明 |
|------|------|------|
| **小程序** | 微信小程序 | 主要用户界面 |
| **Web后台** | Vue 3 + Element Plus | 运营管理界面 |
| **后端** | Node.js/Python | API服务 |
| **数据库** | MySQL + Redis | 数据存储和缓存 |
| **支付** | 微信支付 | 支付集成 |
| **工具链** | Speckit | 开发工具和规范 |

## 🗺️ 项目导航

### 📄 核心文档
- [**8阶段开发路线图**](ROADMAP.md) - 分阶段实施计划
- [**项目宪法**](.specify/memory/constitution.md) - 开发原则和规范
- [**MVP规格文档**](specs/) - 详细功能规格说明

### 📁 项目结构
```
GymnasticMini/
├── 📄 ROADMAP.md                   # 8阶段开发路线图
├── 📄 README.md                    # 项目说明 (本文件)
├── 📁 .specify/                    # Speckit工具生态
├── 📁 specs/                       # MVP规格文档
│   ├── 001-user-identity-system/   # 用户身份系统
│   ├── 002-course-display-and-booking/  # 课程展示与预约
│   ├── 003-waitlist-and-makeup/    # 候补与补课系统
│   ├── 004-private-lesson/         # 私教课系统
│   ├── 005-payment-integration/    # 支付集成
│   ├── 006-wallet-system/          # 钱包系统
│   ├── 007-admin-dashboard/        # 运营后台
│   └── 008-tag-system/             # 标签系统设计
├── 📁 docs/                        # 需求和分析文档
│   ├── requirements.md             # 需求整合文档
│   ├── corrections.md              # 产品修改指令
│   ├── analysis.md                 # 分析报告
│   └── archive/                    # 归档文档
├── 📁 CCSmartMeet-master/           # 现有小程序项目
└── 📁 .git/                        # Git仓库
```

## 🚀 修正后的8阶段开发路线图

### 阶段概览 (总计20周)

| 阶段 | 周期 | 主要内容 | 优先级 | 状态 |
|------|------|----------|--------|------|
| **P0** | 2周 | 用户身份系统 (MVP-1) | P0 | ✅ 规格完成 |
| **P1** | 4周 | 课程展示+钱包系统 (MVP-2A+MVP-6) | P1 | ✅ 规格完成 |
| **P2** | 3周 | 支付集成 (MVP-5) | P1 | ✅ 规格完成 |
| **P3** | 4周 | 候补+私教课 (MVP-3+MVP-4) | P2 | ✅ 规格完成 |
| **P4** | 2周 | 运营管理后台 (MVP-7) | P2 | ✅ 规格完成 |
| **P5** | 2周 | 系统集成测试和优化 | P3 | 📋 规划中 |
| **P6** | 2周 | 性能优化和安全加固 | P3 | 📋 规划中 |
| **P7** | 1周 | 用户验收测试和培训 | P3 | 📋 规划中 |
| **P8** | 1周 | 正式上线和运维 | P3 | 📋 规划中 |

### 关键修正
- **优先级重排**: 钱包系统提前，确保预约时余额检查
- **依赖明确**: 钱包余额→预约资格→支付处理的完整数据流
- **规则标准化**: 候补6.5小时规则+时间冲突场景处理
- **技术栈统一**: 专注Node.js + Express，避免复杂化

> 详细规划请查看 [**ROADMAP.md v2.1**](ROADMAP.md)

## 🔧 核心业务规则

### 智能匹配算法
- **100%完全匹配**: 不使用权重计算，只有匹配(100%)和不匹配(0%)
- **L3以下**: 等级匹配 + 年龄匹配
- **L3及以上**: 等级匹配 + 性别匹配
- **体验课**: 仅年龄匹配 + OpenID限制

### 支付和钱包规则
- **体验课**: 固定200元，原路退费
- **正式课**: 预约时立即扣费，取消时退回钱包
- **透支支持**: 钱包允许负余额，欠费时限制新预约
- **余额预警**: <200元时推送通知

### 候补和请假规则
- **候补截止**: 开课前6.5小时，提供30分钟确认窗口
- **请假限制**: 开课前6小时内禁止请假
- **次数限制**: 不设置月度限制，连续请假4次触发运营通知

## 🛠️ Speckit 工具链

### 开发流程
每个阶段遵循标准开发流程：
```
Specify → Plan → Tasks → Implement → Test → Deploy
```

### 可用命令
- `/speckit.specify` - 创建功能规格
- `/speckit.plan` - 制定技术计划
- `/speckit.tasks` - 分解开发任务
- `/speckit.checklist` - 生成质量检查清单
- `/speckit.analyze` - 跨文档一致性分析
- `/speckit.clarify` - 澄清需求和问题

## 📊 项目状态

### 当前进度
- ✅ **需求文档整理** - 完成
- ✅ **规格文档制定** - 8个MVP全部完成
- ✅ **8阶段路线图** - 制定完成
- ✅ **目录结构重组** - 完成
- 🔄 **开发环境准备** - 进行中
- ⏳ **P0阶段实施** - 待开始

### 核心里程碑
- [ ] P0: 用户身份系统完成 (2周)
- [ ] P1: 核心业务闭环完成 (4周)
- [ ] P2: 财务管理系统完成 (3周)
- [ ] P3: 扩展功能完成 (4周)
- [ ] P4-P7: 系统完善和上线 (6周)

## 📞 项目信息

**最后更新**: 2025-11-04
**文档版本**: v2.0
**Roadmap版本**: v1.0
**项目状态**: 需求规划完成，准备开发实施

---

> 📌 **开始开发**: 请查看 [ROADMAP.md](ROADMAP.md) 了解详细的8阶段实施计划，然后从P0阶段的MVP-1用户身份系统开始。